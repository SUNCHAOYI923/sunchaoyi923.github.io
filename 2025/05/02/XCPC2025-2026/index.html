
<!DOCTYPE html><html lang="en" data-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1" theme-name="Stellar" theme-version="1.33.1">
  
  
  <meta name="generator" content="Hexo 8.1.1">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin><link rel="preconnect" href="https://unpkg.com" crossorigin><link rel="preconnect" href="https://cdn.bootcdn.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  <title>2025-2026 XCPC - SUNCHAOYI</title>

  
    <meta name="description" content="基本信息本赛季由  组队，全靠大佬带飞~。 中文队名：正在验证该队是否是真人。 英文队名：Verifying we are human.  队友 Sky 的记录！被带飞！！！   训练情况总览    $\texttt{Id}$ $\texttt{Date}$ $\texttt{Title}$ $\texttt{Solved}$ $\texttt{Dirt}$ $\texttt{Post-conte">
<meta property="og:type" content="article">
<meta property="og:title" content="2025-2026 XCPC">
<meta property="og:url" content="https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/">
<meta property="og:site_name" content="SUNCHAOYI">
<meta property="og:description" content="基本信息本赛季由  组队，全靠大佬带飞~。 中文队名：正在验证该队是否是真人。 英文队名：Verifying we are human.  队友 Sky 的记录！被带飞！！！   训练情况总览    $\texttt{Id}$ $\texttt{Date}$ $\texttt{Title}$ $\texttt{Solved}$ $\texttt{Dirt}$ $\texttt{Post-conte">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cfrating.baoshuo.dev/rating?username=jr_zlw">
<meta property="og:image" content="https://cfrating.baoshuo.dev/rating?username=skyzhou">
<meta property="og:image" content="https://cfrating.baoshuo.dev/rating?username=sunchaoyi">
<meta property="og:image" content="https://cdn.luogu.com.cn/upload/image_hosting/e1orzuoo.png">
<meta property="og:image" content="https://cdn.luogu.com.cn/upload/image_hosting/nirsrs0h.png">
<meta property="og:image" content="https://i-blog.csdnimg.cn/img_convert/fdb313d5edae10da0e1976b9bb3e1db3.png">
<meta property="og:image" content="https://cdn.luogu.com.cn/upload/image_hosting/11q5w63u.png">
<meta property="og:image" content="https://img.skyzhou.top/i/2025/09/08/68be5d81f21fb.png">
<meta property="og:image" content="https://img.skyzhou.top/i/2025/09/17/68ca621c399d4.png">
<meta property="og:image" content="https://img.skyzhou.top/i/2025/09/17/68ca6306e867a.png">
<meta property="article:published_time" content="2025-05-01T16:00:00.000Z">
<meta property="article:modified_time" content="2026-01-22T08:18:53.340Z">
<meta property="article:author" content="Chaoyi, Sun">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cfrating.baoshuo.dev/rating?username=jr_zlw">
  
  
  
  

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.33.1">


  
    <link rel="shortcut icon" href="/img/Favicon.gif">
  

  

  <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Chaoyi, Sun","sameAs":[]},"dateCreated":"2025-05-02T00:00:00+08:00","dateModified":"2026-01-22T16:18:53+08:00","datePublished":"2025-05-02T00:00:00+08:00","description":"","headline":"2025-2026 XCPC","mainEntityOfPage":{"@type":"WebPage","@id":"https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/"},"publisher":{"@type":"Organization","name":"Chaoyi, Sun","sameAs":[]},"url":"https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/","thumbnailUrl":"/img/ICPC.jpg","image":1}</script>
  <link rel="shortcut icon" href="/img/Avatar.jpg"><meta name="theme-color" content="#f8f8f8"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" media="all" />
</head>
<body><div class="sitebg"><div class="siteblur"></div></div>

<div class="l_body content" id="start" layout="post" type="tech" ><aside class="l_left"><div class="sidebg"></div><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><div class="icon"><img no-lazy class="icon" src="/img/Avatar.jpg" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></div><a class="title" href="/"><div class="main">超闻逸事</div><div class="sub normal cap">Life & Academy</div><div class="sub hover cap" style="opacity:0"> Designed by SUNCHAOYI</div></a></div></header>

<div class="nav-area">

<nav class="menu dis-select"><a class="nav-item" title="Self-Introduction" href="/Myself/" style="color:#3DC550"><img no-lazy src="/img/me.jpg" / onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="nav-item" title="Blog" href="/" style="color:#1BCDFC"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M5.879 2.879C5 3.757 5 5.172 5 8v8c0 2.828 0 4.243.879 5.121C6.757 22 8.172 22 11 22h2c2.828 0 4.243 0 5.121-.879C19 20.243 19 18.828 19 16V8c0-2.828 0-4.243-.879-5.121C17.243 2 15.828 2 13 2h-2c-2.828 0-4.243 0-5.121.879M8.25 17a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 12.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 9" clip-rule="evenodd"/><path fill="currentColor" d="M5.235 4.058C5 4.941 5 6.177 5 8v8c0 1.823 0 3.058.235 3.942L5 19.924c-.975-.096-1.631-.313-2.121-.803C2 18.243 2 16.828 2 14v-4c0-2.829 0-4.243.879-5.121c.49-.49 1.146-.707 2.121-.803zm13.53 15.884C19 19.058 19 17.822 19 16V8c0-1.823 0-3.059-.235-3.942l.235.018c.975.096 1.631.313 2.121.803C22 5.757 22 7.17 22 9.999v4c0 2.83 0 4.243-.879 5.122c-.49.49-1.146.707-2.121.803z" opacity=".5"/></svg></a><a class="nav-item" title="Favorite" href="/favorite/" style="color:#F44336"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m13.629 20.472l-.542.916c-.483.816-1.69.816-2.174 0l-.542-.916c-.42-.71-.63-1.066-.968-1.262c-.338-.197-.763-.204-1.613-.219c-1.256-.021-2.043-.098-2.703-.372a5 5 0 0 1-2.706-2.706C2 14.995 2 13.83 2 11.5v-1c0-3.273 0-4.91.737-6.112a5 5 0 0 1 1.65-1.651C5.59 2 7.228 2 10.5 2h3c3.273 0 4.91 0 6.113.737a5 5 0 0 1 1.65 1.65C22 5.59 22 7.228 22 10.5v1c0 2.33 0 3.495-.38 4.413a5 5 0 0 1-2.707 2.706c-.66.274-1.447.35-2.703.372c-.85.015-1.275.022-1.613.219c-.338.196-.548.551-.968 1.262" opacity=".5"/><path fill="currentColor" d="M10.99 14.308c-1.327-.978-3.49-2.84-3.49-4.593c0-2.677 2.475-3.677 4.5-1.609c2.025-2.068 4.5-1.068 4.5 1.609c0 1.752-2.163 3.615-3.49 4.593c-.454.335-.681.502-1.01.502c-.329 0-.556-.167-1.01-.502"/></svg></a></nav>
</div>
<div class="widgets">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="Search"></form><div id="search-result"></div><div class="search-no-result">No Results!</div></div>



<widget class="widget-wrapper recent post-list"><div class="widget-header dis-select"><span class="name">Recent Update</span></div><div class="widget-body fs14"><a class="item title" href="/2025/12/28/Attack%20Lab/"><span class="title">CMU CS:APP Attack Lab</span></a><a class="item title" href="/2025/12/25/Data%20Lab/"><span class="title">CMU CS:APP Data Lab</span></a><a class="item title" href="/2025/05/02/XCPC2025-2026/"><span class="title">2025-2026 XCPC</span></a><a class="item title" href="/2020/10/19/UVA12167/"><span class="title">题解：UVA12167 Proving Equivalences</span></a><a class="item title" href="/2022/07/28/UVA1630/"><span class="title">题解：UVA1630 串折叠 Folding</span></a><a class="item title" href="/2020/11/20/UVA1401/"><span class="title">题解：UVA1401 Remember the Word</span></a><a class="item title" href="/2021/08/15/UVA1626/"><span class="title">题解：UVA1626 括号序列 Brackets sequence</span></a><a class="item title" href="/2024/09/01/XCPC2024/"><span class="title">XCPC 2024</span></a><a class="item title" href="/2022/01/22/WC2022/"><span class="title">WC 2022 学习笔记</span></a><a class="item title" href="/2022/08/18/SPOJ13105/"><span class="title">题解：SP13105 MUTDNA - DNA</span></a></div></widget>
</div>

</div></aside><div class="l_main" id="main">





<div class="article banner top"><img class="lazy bg" data-src="/img/background13.jpg">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">Home</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">Blog</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Journal/">Journal</a></div>
<div class="flex-row" id="post-meta"><span class="text created">Posted on: <time datetime="2025-05-01T16:00:00.000Z">2025-05-02</time></span><span class="sep updated"></span><span class="text updated">Updated on: <time datetime="2026-01-22T08:18:53.340Z">2026-01-22</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>2025-2026 XCPC</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><p>本赛季由 <img src="https://cfrating.baoshuo.dev/rating?username=jr_zlw" alt=""><img src="https://cfrating.baoshuo.dev/rating?username=skyzhou" alt=""><br><img src="https://cfrating.baoshuo.dev/rating?username=sunchaoyi" alt=""> 组队，全靠大佬带飞~。</p>
<p>中文队名：正在验证该队是否是真人。</p>
<p>英文队名：Verifying we are human.</p>
<ul>
<li>队友 <a target="_blank" rel="noopener" href="https://skyzhou.top/2025/10/25/ACM_XCPC/">Sky 的记录</a>！被带飞！！！</li>
</ul>
<hr>
<h2 id="训练情况总览"><a href="#训练情况总览" class="headerlink" title="训练情况总览"></a>训练情况总览</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">$\texttt{Id}$</th>
<th style="text-align:center">$\texttt{Date}$</th>
<th style="text-align:center">$\texttt{Title}$</th>
<th style="text-align:center">$\texttt{Solved}$</th>
<th style="text-align:center">$\texttt{Dirt}$</th>
<th style="text-align:center">$\texttt{Post-contest Solved}$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$1$</td>
<td style="text-align:center">$2025.05.02$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1247">The 2023 Guangdong Provincial Collegiate Programming Contest</a></td>
<td style="text-align:center">$8/13$</td>
<td style="text-align:center">$55\%$</td>
<td style="text-align:center">$10/13$</td>
</tr>
<tr>
<td style="text-align:center">$2$</td>
<td style="text-align:center">$2025.05.15$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1893">The 2024 ICPC Asia Hangzhou Regional Contest</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$62\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$3$</td>
<td style="text-align:center">$2025.05.19$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2025">The 2025 ICPC Wuhan Invitational Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$69\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$4$</td>
<td style="text-align:center">$2025.05.21$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2021">The 2025 ICPC China Zhejiang Province Programming Contest</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$76\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$5$</td>
<td style="text-align:center">$2025.05.22$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1913">The 2024 ICPC Asia Shanghai Regional Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$73\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$6$</td>
<td style="text-align:center">$2025.05.25$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1843">The 2024 CCPC Jinan Site</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$7$</td>
<td style="text-align:center">$2025.05.26$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1849">The 2024 ICPC Southeastern Europe Regional Contest</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$41\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$8$</td>
<td style="text-align:center">$2025.05.27$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1924">The 2024 ICPC Central Europe Regional Contest</a></td>
<td style="text-align:center">$5/12$</td>
<td style="text-align:center">$28\%$</td>
<td style="text-align:center">$6/12$</td>
</tr>
<tr>
<td style="text-align:center">$9$</td>
<td style="text-align:center">$2025.05.29$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1472">The 2023 ICPC Asia Jinan Regional Contest</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$14\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$10$</td>
<td style="text-align:center">$2025.05.30$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1404">The 2023 CCPC Guilin Site</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$60\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$11$</td>
<td style="text-align:center">$2025.06.02$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2058">The 2025 Guangdong Provincial Collegiate Programming Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$62\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$12$</td>
<td style="text-align:center">$2025.07.15$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108298">2025牛客暑期多校训练营1</a></td>
<td style="text-align:center">$4/12$</td>
<td style="text-align:center">$33\%$</td>
<td style="text-align:center">$6/12$</td>
</tr>
<tr>
<td style="text-align:center">$13$</td>
<td style="text-align:center">$2025.07.17$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108299">2025牛客暑期多校训练营2</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$59\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$14$</td>
<td style="text-align:center">$2025.07.22$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108300">2025牛客暑期多校训练营3</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$42\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$15$</td>
<td style="text-align:center">$2025.07.24$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108301">2025牛客暑期多校训练营4</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$16$</td>
<td style="text-align:center">$2025.07.29$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108302">2025牛客暑期多校训练营5</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$43\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$17$</td>
<td style="text-align:center">$2025.07.31$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108303">2025牛客暑期多校训练营6</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$29\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$18$</td>
<td style="text-align:center">$2025.08.05$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108304">2025牛客暑期多校训练营7</a></td>
<td style="text-align:center">$5/10$</td>
<td style="text-align:center">$64\%$</td>
<td style="text-align:center">$5/10$</td>
</tr>
<tr>
<td style="text-align:center">$19$</td>
<td style="text-align:center">$2025.08.07$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108305">2025牛客暑期多校训练营8</a></td>
<td style="text-align:center">$5/11$</td>
<td style="text-align:center">$38\%$</td>
<td style="text-align:center">$6/11$</td>
</tr>
<tr>
<td style="text-align:center">$20$</td>
<td style="text-align:center">$2025.08.12$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108306">2025牛客暑期多校训练营9</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$55\%$</td>
<td style="text-align:center">$6/12$</td>
</tr>
<tr>
<td style="text-align:center">$21$</td>
<td style="text-align:center">$2025.08.14$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/108307">2025牛客暑期多校训练营10</a></td>
<td style="text-align:center">$5/12$</td>
<td style="text-align:center">$38\%$</td>
<td style="text-align:center">$7/12$</td>
</tr>
<tr>
<td style="text-align:center">$22$</td>
<td style="text-align:center">$2025.08.30$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1412">The 2023 CCPC Harbin Site</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$33\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$23$</td>
<td style="text-align:center">$2025.08.31$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1411">The 2023 CCPC Qinghuangdao Site</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$44\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$24$</td>
<td style="text-align:center">$2025.09.05$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2040">The 15th Shandong Provincial Collegiate Programming Contest</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$25$</td>
<td style="text-align:center">$2025.09.07$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2513">The 2025 ICPC Asia East Continent Online Contest (I)</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$14\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$26$</td>
<td style="text-align:center">$2025.09.14$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2524">The 2025 ICPC Asia East Continent Online Contest (II)</a></td>
<td style="text-align:center">$4/12$</td>
<td style="text-align:center">$33\%$</td>
<td style="text-align:center">$8/12$</td>
</tr>
<tr>
<td style="text-align:center">$27$</td>
<td style="text-align:center">$2025.09.20$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2534">The 2025 CCPC Online Contest</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$45\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$28$</td>
<td style="text-align:center">$2025.09.11$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1440">The 2023 ICPC Asia Hefei Regional Contest</a></td>
<td style="text-align:center">$4/12$</td>
<td style="text-align:center">$71\%$</td>
<td style="text-align:center">$5/12$</td>
</tr>
<tr>
<td style="text-align:center">$29$</td>
<td style="text-align:center">$2025.09.25$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2509">The 2021 ICPC Southeastern European Regional Programming Contest</a></td>
<td style="text-align:center">$8/14$</td>
<td style="text-align:center">$42\%$</td>
<td style="text-align:center">$9/14$</td>
</tr>
<tr>
<td style="text-align:center">$30$</td>
<td style="text-align:center">$2025.10.02$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1099">The 2022 ICPC Asia Hong Kong Regional Contest</a></td>
<td style="text-align:center">$6/12$</td>
<td style="text-align:center">$57\%$</td>
<td style="text-align:center">$9/12$</td>
</tr>
<tr>
<td style="text-align:center">$31$</td>
<td style="text-align:center">$2025.10.09$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1885">The 2024 ICPC Asia Hong Kong Regional Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$54\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$32$</td>
<td style="text-align:center">$2025.10.13$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1187">The 2018 ICPC Asia Qingdao Regional Contest</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$12\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$33$</td>
<td style="text-align:center">$2025.10.17$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1865">The 2024 ICPC Asia Shenyang Regional Contest</a></td>
<td style="text-align:center">$3/13$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$6/13$</td>
</tr>
<tr>
<td style="text-align:center">$34$</td>
<td style="text-align:center">$2025.10.19$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1801">The 2024 Shandong Provincial Collegiate Programming Contest</a></td>
<td style="text-align:center">$8/13$</td>
<td style="text-align:center">$38\%$</td>
<td style="text-align:center">$9/13$</td>
</tr>
<tr>
<td style="text-align:center">$35$</td>
<td style="text-align:center">$2025.10.23$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2562">The 2025 ICPC Asia Xi’an Regional Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$44\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$36$</td>
<td style="text-align:center">$2025.10.26$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2567">The 2025 ICPC Asia Chengdu Regional Contest</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$33\%$</td>
<td style="text-align:center">$9/13$</td>
</tr>
<tr>
<td style="text-align:center">$37$</td>
<td style="text-align:center">$2025.11.02$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2609">The 2025 ICPC Asia Wuhan Regional Contest</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$37\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$38$</td>
<td style="text-align:center">$2025.11.05$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1093">The 2022 ICPC Asia Nanjing Regional Contest</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$46\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$39$</td>
<td style="text-align:center">$2025.11.09$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2581">The 2025 ICPC Asia Nanjing Regional Contest</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$42\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$40$</td>
<td style="text-align:center">$2025.11.23$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2641">The 2025 ICPC Asia Shenyang Regional Contest</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$33\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
<tr>
<td style="text-align:center">$41$</td>
<td style="text-align:center">$2025.11.30$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2664">The 2025 CCPC Chongqing Site</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$20\%$</td>
<td style="text-align:center">$4/13$</td>
</tr>
<tr>
<td style="text-align:center">$42$</td>
<td style="text-align:center">$2025.12.20$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2657">The 2025 ICPC Asia Taichung Regional Programming Contest</a></td>
<td style="text-align:center">$8/14$</td>
<td style="text-align:center">$27\%$</td>
<td style="text-align:center">$10/14$</td>
</tr>
<tr>
<td style="text-align:center">$43$</td>
<td style="text-align:center">$2026.01.02$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2797">The 2025 ICPC North America East Central Regional Contest (ECNA 2025)</a></td>
<td style="text-align:center">$8/12$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$10/12$</td>
</tr>
<tr>
<td style="text-align:center">$44$</td>
<td style="text-align:center">$2026.01.07$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1041">The 2021 ICPC Asia East Continent Final Contest (EC-Final 2021)</a></td>
<td style="text-align:center">$6/13$</td>
<td style="text-align:center">$54\%$</td>
<td style="text-align:center">$9/13$</td>
</tr>
<tr>
<td style="text-align:center">$45$</td>
<td style="text-align:center">$2026.01.09$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1197">The 2022 ICPC Asia East Continent Final Contest (EC-Final 2022)</a></td>
<td style="text-align:center">$4/13$</td>
<td style="text-align:center">$43\%$</td>
<td style="text-align:center">$8/13$</td>
</tr>
<tr>
<td style="text-align:center">$46$</td>
<td style="text-align:center">$2026.01.11$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1967">The 2024 ICPC Europe Championship</a></td>
<td style="text-align:center">$5/11$</td>
<td style="text-align:center">$64\%$</td>
<td style="text-align:center">$8/11$</td>
</tr>
<tr>
<td style="text-align:center">$47$</td>
<td style="text-align:center">$2026.01.14$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1695">The 2024 ICPC North America Championship</a></td>
<td style="text-align:center">$7/13$</td>
<td style="text-align:center">$50\%$</td>
<td style="text-align:center">$9/13$</td>
</tr>
<tr>
<td style="text-align:center">$48$</td>
<td style="text-align:center">$2026.01.18$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1964">The 2025 ICPC Europe Championship</a></td>
<td style="text-align:center">$4/11$</td>
<td style="text-align:center">$42\%$</td>
<td style="text-align:center">$6/11$</td>
</tr>
<tr>
<td style="text-align:center">$49$</td>
<td style="text-align:center">$2026.01.21$</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1522">The 2023 ICPC Asia East Continent Final Contest (EC-Final 2023)</a></td>
<td style="text-align:center">$5/13$</td>
<td style="text-align:center">$0\%$</td>
<td style="text-align:center">$7/13$</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h2 id="训练记录"><a href="#训练记录" class="headerlink" title="训练记录"></a>训练记录</h2><h3 id="省赛备战"><a href="#省赛备战" class="headerlink" title="省赛备战"></a>省赛备战</h3><h4 id="2025-05-02-The-2023-Guangdong-Provincial-Collegiate-Programming-Contest"><a href="#2025-05-02-The-2023-Guangdong-Provincial-Collegiate-Programming-Contest" class="headerlink" title="2025.05.02 The 2023 Guangdong Provincial Collegiate Programming Contest"></a>2025.05.02 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1247">The 2023 Guangdong Provincial Collegiate Programming Contest</a></h4><p>备战省赛，也是组队后的第一次训练。</p>
<p>这一场签到题比较多，一小时以内按顺序过了 A,I,C,D,K。接下来我和 Sky 讨论了一下 M 的做法，确定了 $O(n^2)$ 的 DP 维护直径，其间 Zlw 一眼 B 板子题，在 1.5h 一发通过了该题。</p>
<p>之后我和 Zlw 尝试口胡 E,F，没错他基本口胡出来了，大力模板。Sky 提交 M 题 RE，我去瞅了眼，发现三点共线导致分母为 $0$，立马帮他改成了叉积写法。之后又 WA，看了半天发现是 INF 开的不够大，红温……好在 3.5h 内通过。</p>
<p>然后我开始写 E 的字典树，写了半天发现巨丑还会运行错误，果断叫上 Zlw 来写，在提交了几发后发现神秘错误，在封榜后通过。之后就是 F，和队友确定了线段树二分写法，但是似乎和他的码风不太一样，于是被踹下来。但是由于写得有点屎，赛时没过，知道赛后 40 min 后通过该题。</p>
<p>最后赛时 $8$ 题收尾（主要由 Zlw 写了一大半的题 orzorzorz，以及 Sky 的难题攻克）！</p>
<p>F 题有点深刻，自己又写了一遍。终于琢磨出为什么赛时会有这么多队伍过，原来还有两支 $\log$ 的弱智写法。还是写一下线段树二分的做法吧，借鉴了一下题解，时间复杂度 $O(\sum k \log n)$。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> init(x) memset (x,0,sizeof (x))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> pii pair <span class="string">&lt;int,int&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAX = <span class="number">4e6</span> + <span class="number">50</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span> <span class="params">()</span></span>;</span><br><span class="line"><span class="type">int</span> t,n,q,cnt,ls[MAX],rs[MAX],tree[MAX];</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BIT</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n;vector &lt;ll&gt; c;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x &amp; (-x);&#125;</span><br><span class="line">    <span class="keyword">public</span> :</span><br><span class="line">    <span class="built_in">BIT</span> (<span class="type">int</span> n) : <span class="built_in">n</span> (n),<span class="built_in">c</span> (n + <span class="number">1</span>,<span class="number">0</span>) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span> <span class="params">(<span class="type">int</span> x,<span class="type">int</span> v)</span> </span>&#123;<span class="keyword">for</span> (<span class="type">int</span> i = x;i &lt;= n;i += <span class="built_in">lowbit</span> (i)) c[i] += v;&#125;</span><br><span class="line">    <span class="function">ll <span class="title">query</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;ll res = <span class="number">0</span>;<span class="keyword">for</span> (<span class="type">int</span> i = x;i;i -= <span class="built_in">lowbit</span> (i)) res += c[i];<span class="keyword">return</span> res;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span> <span class="params">(<span class="type">int</span> &amp;cur,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> x,<span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!cur) cur = ++cnt,ls[cur] = rs[cur] = tree[cur] = <span class="number">0</span>;</span><br><span class="line">    tree[cur] += v;</span><br><span class="line">    <span class="keyword">if</span> (l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (x &lt;= mid) <span class="built_in">modify</span> (ls[cur],l,mid,x,v);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">modify</span> (rs[cur],mid + <span class="number">1</span>,r,x,v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span> <span class="params">(vector &lt;<span class="type">int</span>&gt; cur)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> v : cur) res += tree[v];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">vector &lt;<span class="type">int</span>&gt; <span class="built_in">next_L</span> (vector &lt;<span class="type">int</span>&gt; cur)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;v : cur) v = ls[v];</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br><span class="line">vector &lt;<span class="type">int</span>&gt; <span class="built_in">next_R</span> (vector &lt;<span class="type">int</span>&gt; cur)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;v : cur) v = rs[v];</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">search_L</span> <span class="params">(vector &lt;<span class="type">int</span>&gt; cur,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">calc</span> (cur) == r - l + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (l == r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (pos &lt;= mid) <span class="keyword">return</span> <span class="built_in">search_L</span> (<span class="built_in">next_L</span> (cur),l,mid,pos);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">search_L</span> (<span class="built_in">next_R</span> (cur),mid + <span class="number">1</span>,r,pos);</span><br><span class="line">        <span class="keyword">if</span> (!res) <span class="keyword">return</span> <span class="built_in">search_L</span> (<span class="built_in">next_L</span> (cur),l,mid,pos);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">search_R</span> <span class="params">(vector &lt;<span class="type">int</span>&gt; cur,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">calc</span> (cur) == r - l + <span class="number">1</span>) <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (l == r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (pos &gt; mid) <span class="keyword">return</span> <span class="built_in">search_R</span> (<span class="built_in">next_R</span> (cur),mid + <span class="number">1</span>,r,pos);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">search_R</span> (<span class="built_in">next_L</span> (cur),l,mid,pos);</span><br><span class="line">        <span class="keyword">if</span> (res == n + <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">search_R</span> (<span class="built_in">next_R</span> (cur),mid + <span class="number">1</span>,r,pos);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    t = <span class="built_in">read</span> ();</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        n = <span class="built_in">read</span> ();q = <span class="built_in">read</span> ();cnt = <span class="number">0</span>;</span><br><span class="line">        vector &lt;<span class="type">int</span>&gt; <span class="built_in">val</span> (n + <span class="number">1</span>),<span class="built_in">col</span> (n + <span class="number">1</span>),<span class="built_in">rt</span> (n + <span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="function">BIT <span class="title">tr</span> <span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i) col[i] = <span class="built_in">read</span> (),<span class="built_in">modify</span> (rt[col[i]],<span class="number">1</span>,n,i,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i) val[i] = <span class="built_in">read</span> (),tr.<span class="built_in">modify</span> (i,val[i]);</span><br><span class="line">        <span class="keyword">while</span> (q--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> ty = <span class="built_in">read</span> ();</span><br><span class="line">            <span class="keyword">if</span> (ty == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> p = <span class="built_in">read</span> (),x = <span class="built_in">read</span> ();</span><br><span class="line">                <span class="built_in">modify</span> (rt[col[p]],<span class="number">1</span>,n,p,<span class="number">-1</span>);</span><br><span class="line">                col[p] = x;</span><br><span class="line">                <span class="built_in">modify</span> (rt[col[p]],<span class="number">1</span>,n,p,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ty == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> p = <span class="built_in">read</span> (),v = <span class="built_in">read</span> ();</span><br><span class="line">                tr.<span class="built_in">modify</span> (p,v - val[p]);</span><br><span class="line">                val[p] = v;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> st = <span class="built_in">read</span> (),k = <span class="built_in">read</span> ();</span><br><span class="line">                vector &lt;<span class="type">int</span>&gt; p;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k;++i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="type">int</span> x = <span class="built_in">read</span> ();</span><br><span class="line">                    p.<span class="built_in">push_back</span> (rt[x]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> l = <span class="built_in">search_L</span> (p,<span class="number">1</span>,n,st),r = <span class="built_in">search_R</span> (p,<span class="number">1</span>,n,st);</span><br><span class="line">                <span class="built_in">printf</span> (<span class="string">&quot;%lld\n&quot;</span>,tr.<span class="built_in">query</span> (r - <span class="number">1</span>) - tr.<span class="built_in">query</span> (l + <span class="number">1</span> - <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;<span class="type">int</span> f = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> ch = <span class="built_in">getchar</span> ();</span><br><span class="line">    <span class="keyword">while</span> ((ch &lt; <span class="string">&#x27;0&#x27;</span> || ch &gt; <span class="string">&#x27;9&#x27;</span>) &amp;&amp; ch != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;-&#x27;</span>) f = <span class="number">-1</span>;</span><br><span class="line">        ch = <span class="built_in">getchar</span> ();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        s = s * <span class="number">10</span> + ch - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        ch = <span class="built_in">getchar</span> ();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s * f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="2025-05-15-The-2024-ICPC-Asia-Hangzhou-Regional-Contest"><a href="#2025-05-15-The-2024-ICPC-Asia-Hangzhou-Regional-Contest" class="headerlink" title="2025.05.15 The 2024 ICPC Asia Hangzhou Regional Contest"></a>2025.05.15 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1893">The 2024 ICPC Asia Hangzhou Regional Contest</a></h4><p>上午考完期末，开启暑假生活！</p>
<p>省流：$6$ 题收尾。过题顺序 A,K,E,H,M,F。</p>
<p>可能是上午考线代考傻了，签到题写了半小时才过。$A$ 用并查集维护即可，可是一开始写得有点乱，WA 了 $2$ 次才过。接着队友写 K，不知道怎么回事思路没问题就是过不了。我听完思路直接给他重写了，然后就过了，非常神奇（说明队友码力有点弱，需要加训~）。</p>
<p>接着 Zlw 佬开始敲 B，敲完交了以后才发现把题目理解成了或运算，于是乎，一直只能想到双 log 的做法。我这边看了下 E，一开始认为是 DP，想了一会儿发现更像是贪心。和 Zlw 佬进一步讨论了一下感觉没啥问题。设当前处在 $f$ 层，找到 $l$ 在 $f$ 之下的 $r$ 最大的那个，如果不存在，就需要花费额外的能量向上运动。等到达最顶端后在往下降，处理一下剩余的区间，此时不需要额外花费。因此直接可以优先队列维护，从而做到 $O(n \log n)$。</p>
<p>Sky 这时候在写 M，写完以后发现题目看错，占了一会儿机时。趁着他在调的时候继续口胡下一题，是我最喜欢的构造！不难想到先取最长的链，设长度为 $k$，于是剩下 $[1,k - 1]$ 的区间全部能够挂在这条链上。唯一需要考虑的就是有多条长度为 $k$ 的链的情况，此时只要前面的区间没有都挂在根节点上就存在解。</p>
<p>M 还有一些问题，于是我把 E,H 这两题都实现了。接下去他俩一起在搞 M，我开始看 F。M 似乎进行数论分析和 ST 维护以后终于过了。F 是图论，容易想到 scc 缩点，难点是处理询问。不过询问又非常特殊，是在一条链上询问，因此就可以通过前缀和处理。但需要注意块内可能询问点并不完整，因此需要更多的处理。突然开窍，然后在比赛结束前 3 分钟通过了！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i) ++sz[scc[i]];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k;++i)</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;++j) </span><br><span class="line">&#123;</span><br><span class="line">    pre[i][j] = pre[i][j - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (scc[a[i][j]] != scc[a[i][j - <span class="number">1</span>]]) tot[i][j] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> pre[i][j] += tot[i][j - <span class="number">1</span>],tot[i][j] = tot[i][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (q--)</span><br><span class="line">&#123;</span><br><span class="line">        ll id = <span class="built_in">read</span> (),l = <span class="built_in">read</span> (),r = <span class="built_in">read</span> ();</span><br><span class="line">        id = (id + ans) % k + <span class="number">1</span>;l = (l + ans) % n + <span class="number">1</span>,r = (r + ans) % n + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (scc[a[id][l]] == scc[a[id][r]]) ans = pre[id][r] - pre[id][l - <span class="number">1</span>] - (tot[id][l] - <span class="number">1</span>) * (r - l + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> ans = pre[id][r] - pre[id][l - <span class="number">1</span>] - (sz[scc[a[id][l]]] - (tot[id][l] - <span class="number">1</span>)) * (tot[id][l] - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span> (<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>总的来说，这场 6 题还是很不错的（似乎能银）。但是罚时过高，速度还是有点慢。看来，还是需要加训滴~</p>
<hr>
<h4 id="2025-05-16"><a href="#2025-05-16" class="headerlink" title="2025.05.16"></a>2025.05.16</h4><p>我开始进一步学习<a target="_blank" rel="noopener" href="https://blog.csdn.net/scy923/article/details/144996284">计算几何</a>，争取在省赛前能把这一块的模板弄全。具体内容就放在上面的博客里了。</p>
<hr>
<h4 id="2025-05-18"><a href="#2025-05-18" class="headerlink" title="2025.05.18"></a>2025.05.18</h4><p>自己打了把<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/contest/245921">西安交通大学2025年程序设计竞赛校赛（同步赛）</a>，被 F 题硬控了，最后八题收尾。</p>
<hr>
<h4 id="2025-05-19-The-2025-ICPC-Wuhan-Invitational-Contest"><a href="#2025-05-19-The-2025-ICPC-Wuhan-Invitational-Contest" class="headerlink" title="2025.05.19 The 2025 ICPC Wuhan Invitational Contest"></a>2025.05.19 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2025">The 2025 ICPC Wuhan Invitational Contest</a></h4><p>A 签到，I 简单构造，I 无解判断写错 WA 了一发（阿巴阿巴）。</p>
<p>L 算是贪心，容易想到枚举端点位置，但是发现固定最大最小值后中位数位置不确定，于是改为枚举最小值和中位数。队友调了老半天才通过。</p>
<p>F 似乎题解是贪心，但是 Zlw 用背包配合 __int128 通过了，取模没取完整贡献一发罚时。</p>
<p>G 感觉有点典，容易想出把所有颜色分开考虑。这种棋盘就方案数有两种 DP，简单的就直接 $O(nm)$ 遍历；复杂的依赖一种颜色的数量 $O(k)$，进行 DP 容斥（CF559C）即可。于是想到分块做法，时间复杂度 $O(mn \sqrt {mn})$。</p>
<p>M 超绝计算几何，一直调到最后。大致分为两类，到端点的距离以及与原点和垂足形成的直线到线段的交点的距离。设端点是 $\text{S},\text{T}$，首先做平面 $\text{OST}$，做垂足 $F$，若落在直线 $\text{OS},\text{OT}$ 的那个区域之外，则只需要考虑前一种情况即可，否则两种情况都要考虑。其次需要考虑 $\mid\text{OF}\mid$ 已知时 $\mathbf{OF}$ 的方向性。最后，需要尤其注意一下精度和垂直的情况。我们写的时候 <code>acos(x)</code> 的参数由于精度问题落在了 $[-1,1]$ 之外，然后一直输出 <code>nan</code>，非常令人红温。不过在查看数据并 WA 无数次后终于通过了此题。</p>
<hr>
<h4 id="2025-05-21-The-2025-ICPC-China-Zhejiang-Province-Programming-Contest"><a href="#2025-05-21-The-2025-ICPC-China-Zhejiang-Province-Programming-Contest" class="headerlink" title="2025.05.21 The 2025 ICPC China Zhejiang Province Programming Contest"></a>2025.05.21 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2021">The 2025 ICPC China Zhejiang Province Programming Contest</a></h4><p>超多罚时场。</p>
<p>B,I 签到，然后我发现 D 是简单构造，三题一遍过，开局还算比较顺利。</p>
<p>接下去开了 L，由奶龙指认的奶龙一定不是奶龙为出发点，提出拓扑加贪心的算法。我开写，脑抽用 set 来维护最优作为奶龙的节点，可是似乎处理上有很大的细节漏洞，于是一直 WAWAWA，导致接下去的一个半小时没有过题。Zlw 和 Sky 在想 F，讨论出了拆点加 bfs 最短路的做法。被踹下去以后他们提交了三发后通过（WA 是 bfs 后忘记 <code>push</code> 新的节点了）。</p>
<p>这时候我在重构了若干次代码之后突然醒悟，只需要 $O(n)$ 的拓扑排序即可实现。先处理链，遇到一个点标记为奶龙，指向的下一个点标记为非奶龙，然后再把下一个的下一个点入度减一。剩下为环的部分，如果未标记就记录个数 $x$，一段未标记中奶龙的个数就是 $\frac{x}{2}$。再次重写，终于通过。【果然，写奶龙题人也会变唐，阿巴阿巴~~~】</p>
<p>Zlw 在之后尝试 A，作为一个数据结构大神，尝试用分块，莫队以及线段树的结合题切题。Sky 在看 G，我看 M。A 上机尝试并通过样例后提交，发现 TLE，调整分块参数后仍然无法通过。而 M 发现交互毫无意义，把题目转化为了已知与一顶点 $P$ 到其它不相邻的顶点构成的线段相交的三角剖分数量，然后还原三角剖分。可惜没什么想法。</p>
<p>G 又想了贪心的想法，于是上机写。由于普通的贪心是 $O(Tnk)$ 的，我微微打表观察以后提出了一个先将每个数增加 $\max (0,\frac{k - 100n}{n})$ 后剩余部分再贪心的做法（其实严格来说，$100$ 应该替换为 $\max {l_i} - \min {l_i}$，但是取极限差不多就是 $100$），此时经过估算应该能够通过。可是交上去后仍然 TLE，于是接下去的 n 发提交都是再尝试调参卡精度。Sky 弄了半天仍然不行，趁他上厕所的时候，我把他贪心改成优先队列，然后加了快读快写，把常数减小了 $5$ 倍左右。终于，+10 以 956 ms 极限卡过此题（一共 113 个测试点可还行 qwq）。后来看了题解，发现是要二分操作的倍率，实在是深刻。</p>
<p>还是 6 题首尾，不知道什么时候可以突破捏~</p>
<hr>
<h4 id="2025-05-22-The-2024-ICPC-Asia-Shanghai-Regional-Contest"><a href="#2025-05-22-The-2024-ICPC-Asia-Shanghai-Regional-Contest" class="headerlink" title="2025.05.22 The 2024 ICPC Asia Shanghai Regional Contest"></a>2025.05.22 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1913">The 2024 ICPC Asia Shanghai Regional Contest</a></h4><p>又难又屎的一场，赛时 5 题，赛后 7 题。</p>
<p>上来就被 I 签到给恶心了好几发，原因就是求的是最大值的模而非模意义下的最大值，因此取模要非常小心。$0$ 以及大于模数的情况都需要考虑到，非常容易出错。半小时才通过此题，而且 WA 了整整 7 次（显然是红温了）。</p>
<p>接下来 Sky 秒了博弈论 C，Zlw 开始写 B。但由于一些答案的合并问题，B 一直被硬控。接下来发现 D 是构造，果断将其丢给我。我手玩 D 发现只需要着重考虑最后四位的情况，于是疯狂分讨。上机写 D，发现样例水得一批，于是直接交，喜提 WA。下机思考，Zlw 终于过了 B，然后我发现有几种情况能够更优的构造，果断修改后通过。这时候 2 小时 4 题，除了罚时外到还行。</p>
<p>之后我又发现 H 是构造，于是又开始手玩。他俩在想 G，似乎是和二分中位数相关。H 玩了很久，由于是最优化步数的构造，我似乎没啥完整的想法，于是开始进击 M 计算几何。</p>
<p>M 似乎好做，很快地将问题分为了四类。设非上下表面的点的个数为 $n$（需要去重），然后将上下表面的点映射到二维平面中。于是有：</p>
<ol>
<li>$n = 0$ 恒有解。</li>
<li>$n = 1$ 判断是否存在一条过定点的直线可以将剩余点归到直线的一侧。直接判断该点是否为凸包上的一点即可。</li>
<li>$n = 2$ 判断过两个定点的圆能够将使得剩余点均在这个圆中。将点分为直线的两侧，然后根据圆周角的大小，一侧各剩下一点（没有的话肯定合法），判断四点共圆即可。特别地，如果点在直线上，则需要在线段上才符合。</li>
<li>$n = 3$ 三点共线则不合法。否则取三点作圆，判断剩余点是否在圆上即可。</li>
</ol>
<p>想完的时候 Zlw 刚好写完 G，于是我上机贺板子写 M。写完以后一直 WA，各种 corner 写挂，最后又被卡精度，直接写崩溃，直到结束也没过。赛后调了很久很久，然后又不断 hack 自己，最终才诞生了一份稍微好一点的屎。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> f1 = [&amp;] () -&gt; <span class="type">bool</span></span><br><span class="line">&#123;</span><br><span class="line">    sp.<span class="built_in">push_back</span> (P[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">auto</span> hull = <span class="built_in">convex_hull</span> (sp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [x,y] : hull)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">dcmp</span> (x - P[<span class="number">0</span>].x) == <span class="number">0</span> &amp;&amp; <span class="built_in">dcmp</span> (y - P[<span class="number">0</span>].y) == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">auto</span> f2 = [&amp;] () -&gt; <span class="type">bool</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x : sp)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">on_line</span> (x,P[<span class="number">0</span>],P[<span class="number">1</span>]) &amp;&amp; !<span class="built_in">on_seg</span> (x,P[<span class="number">0</span>],P[<span class="number">1</span>])) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LD d1 = <span class="number">1000</span>,d2 = <span class="number">1000</span>;</span><br><span class="line">    Point P1,P2;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x : sp) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">on_line</span> (x,P[<span class="number">0</span>],P[<span class="number">1</span>])) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">cross</span> (P[<span class="number">1</span>] - P[<span class="number">0</span>],x - P[<span class="number">0</span>]) &gt; <span class="number">0</span>) &#123;<span class="keyword">if</span> (<span class="built_in">angle</span> (x - P[<span class="number">1</span>],x - P[<span class="number">0</span>]) &lt; d1) P1 = x,d1 = <span class="built_in">angle</span> (x - P[<span class="number">1</span>],x - P[<span class="number">0</span>]);&#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">cross</span> (P[<span class="number">1</span>] - P[<span class="number">0</span>],x - P[<span class="number">0</span>]) &lt; <span class="number">0</span>) &#123;<span class="keyword">if</span> (<span class="built_in">angle</span> (x - P[<span class="number">1</span>],x - P[<span class="number">0</span>]) &lt; d2) P2 = x,d2 = <span class="built_in">angle</span> (x - P[<span class="number">1</span>],x - P[<span class="number">0</span>]);&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (d1 == <span class="number">1000</span> || d2 == <span class="number">1000</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    Point F1 = <span class="built_in">foot</span> (P1,P[<span class="number">0</span>],P[<span class="number">1</span>]),F2 = <span class="built_in">foot</span> (P2,P[<span class="number">0</span>],P[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">dcmp</span> (<span class="built_in">dot</span> (F1 - P[<span class="number">0</span>],F1 - P[<span class="number">1</span>])) &gt; <span class="number">0</span> &amp;&amp; <span class="built_in">dcmp</span> (<span class="built_in">dot</span> (F2 - P[<span class="number">0</span>],F2 - P[<span class="number">1</span>])) &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    Circle C1 = <span class="built_in">triangle_circum</span> (P[<span class="number">0</span>],P[<span class="number">1</span>],P1),C2 = <span class="built_in">triangle_circum</span> (P[<span class="number">0</span>],P[<span class="number">1</span>],P2);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">in_cir</span> (C1,P2) &amp;&amp; <span class="built_in">in_cir</span> (C2,P1);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">auto</span> f3 = [&amp;] () -&gt; <span class="type">bool</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">dcmp</span> (<span class="built_in">cross</span> (P[<span class="number">0</span>] - P[<span class="number">1</span>],P[<span class="number">0</span>] - P[<span class="number">2</span>])) == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    Circle C = <span class="built_in">triangle_circum</span> (P[<span class="number">0</span>],P[<span class="number">1</span>],P[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>;i &lt; P.<span class="built_in">size</span> ();++i)</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">dcmp</span> (<span class="built_in">len</span> (P[i] - C.O) - C.r) != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x : sp)</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">in_cir</span> (C,x)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>事实证明，还是要谨慎开计算几何。赛后发现我精准的选到了 H,M $\text{Medium hard}$，而跳过了中间的 F,J（非常离谱，看都没看）。看来策略还是需要在接下去进一步调整！</p>
<hr>
<h4 id="2025-05-23"><a href="#2025-05-23" class="headerlink" title="2025.05.23"></a>2025.05.23</h4><p>补题，发现 H 最后构造出来剩余 <code>.</code> 的个数不会超过四个。于是就开始贪心构造，调整 6 种情况的优先级，试着试着突然发现对了。唯一的坑点就是要小心同色连成连通块，直接暴力判断后调整。放一下屎山代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    n = <span class="built_in">read</span> ();<span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    vector &lt;vector &lt;<span class="type">char</span>&gt;&gt; <span class="built_in">a</span> (n + <span class="number">5</span>,vector &lt;<span class="type">char</span>&gt; (n + <span class="number">5</span>,<span class="string">&#x27;.&#x27;</span>));</span><br><span class="line">    vector &lt;vector &lt;<span class="type">char</span>&gt;&gt; <span class="built_in">b</span> (n + <span class="number">5</span>,vector &lt;<span class="type">char</span>&gt; (n + <span class="number">5</span>,<span class="string">&#x27;.&#x27;</span>));</span><br><span class="line">    <span class="keyword">auto</span> check = [&amp;] (<span class="type">int</span> x,<span class="type">int</span> y) -&gt; <span class="type">bool</span> &#123;<span class="keyword">return</span> !(x &lt; y || x &lt;= <span class="number">0</span> || y &lt;= <span class="number">0</span> || x &gt; n || a[x][y] != <span class="string">&#x27;.&#x27;</span>);&#125;;</span><br><span class="line">    <span class="keyword">auto</span> same = [&amp;] (<span class="type">char</span> ch,<span class="type">int</span> x,<span class="type">int</span> y) -&gt; <span class="type">bool</span> &#123;<span class="keyword">return</span> ch == a[x][y - <span class="number">1</span>] || ch == a[x][y + <span class="number">1</span>] || ch == a[x - <span class="number">1</span>][y - <span class="number">1</span>] || ch == a[x - <span class="number">1</span>][y] || ch == a[x + <span class="number">1</span>][y] || ch == a[x + <span class="number">1</span>][y + <span class="number">1</span>];&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n;i;--i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>;j &lt;= i;++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == n &amp;&amp; j == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i,j) &amp;&amp; <span class="built_in">check</span> (i,j + <span class="number">1</span>) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j - <span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j + <span class="number">1</span>) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j - <span class="number">1</span>)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i][j] = a[i][j + <span class="number">1</span>] = a[i - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i,j) &amp;&amp; <span class="built_in">check</span> (i,j + <span class="number">1</span>) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j + <span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j + <span class="number">1</span>) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j + <span class="number">1</span>)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i][j] = a[i][j + <span class="number">1</span>] = a[i - <span class="number">1</span>][j + <span class="number">1</span>] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i - <span class="number">1</span>,j - <span class="number">2</span>) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j - <span class="number">1</span>) &amp;&amp; <span class="built_in">check</span> (i,j))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j - <span class="number">2</span>) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j + <span class="number">1</span>) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i - <span class="number">1</span>][j - <span class="number">2</span>] = a[i - <span class="number">1</span>][j - <span class="number">1</span>] = a[i][j] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i,j) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j - <span class="number">1</span>) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">2</span>,j - <span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j - <span class="number">1</span>) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">2</span>,j - <span class="number">1</span>)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i][j] = a[i - <span class="number">1</span>][j - <span class="number">1</span>] = a[i - <span class="number">2</span>][j - <span class="number">1</span>] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i,j) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">1</span>,j + <span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j + <span class="number">1</span>)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i - <span class="number">1</span>][j] = a[i - <span class="number">1</span>][j + <span class="number">1</span>] = a[i][j] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span> (i - <span class="number">1</span>,j) &amp;&amp; <span class="built_in">check</span> (i,j) &amp;&amp; <span class="built_in">check</span> (i - <span class="number">2</span>,j - <span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">1</span>,j) || <span class="built_in">same</span> (<span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>),i - <span class="number">2</span>,j - <span class="number">1</span>)) ++op,op %= <span class="number">26</span>;</span><br><span class="line">                a[i - <span class="number">1</span>][j] = a[i][j] = a[i - <span class="number">2</span>][j - <span class="number">1</span>] = <span class="built_in">char</span> (op + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">                ++ans;<span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n - i;++j) <span class="built_in">putchar</span> (<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>;j &lt;= i;++j) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">putchar</span> (a[i][j]);</span><br><span class="line">            <span class="built_in">putchar</span> (j == i ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="2025-05-24"><a href="#2025-05-24" class="headerlink" title="2025.05.24"></a>2025.05.24</h4><p>仍然是调整日。昨天看其它队伍 vp 的时候发现自己的数论实在是太差了，遂补一下 exgcd。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://codeforces.com/gym/104337/problem/I">Step</a></p>
<p>求满足 $\forall i \in [1,n],\frac{n(n + 1)}{2} \equiv 0\pmod {p_i}$ 的最小正整数 $n$。</p>
<p>设 $l = 2\times \operatorname{lcm} (p_1,p_2,\cdots,p_n)$。转换为最小化 $n$，使得 $n(n + 1) \equiv 0 \pmod l$ 成立。</p>
<p>由于 $\gcd (n,n + 1) = 1$，因此 $l$ 的一种因子只会分给 $n$ 或 $n + 1$ 其中一个。由于 $l$ 的因子数量最多为 $15$ 个，因此状压枚举即可。</p>
<p>对于当前状态 $st$，令 $x = \mathop{\prod}_{\substack{i \in st}} p_i,y = \mathop{\prod}_{\substack{j \in st^\complement}} p_j$，则 $n = ax,n + 1 = by$，作差可知 $-ax + by = 1$。由于 $\gcd (a,b) = 1$，方程有解，直接跑 exgcd，然后求 $\min \{ax\}$ 即可。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1840/problem/9622">有限小数</a></p>
<p>终于把上个赛季重庆站的题目给补了。(以下证明部分参考 <a target="_blank" rel="noopener" href="https://blog.csdn.net/startaidou/article/details/143761847">CCPC2024 重庆_补题记录ADFGH</a>)</p>
<p><strong>命题</strong> </p>
<blockquote>
<p>若 $b = w2^x5^y$，则最优条件下 $d$ 一定可以表示为 $w2^{x\prime}5^{y\prime}$(其中 $w,z$ 不再含有 $2,5$ 的幂次)。</p>
</blockquote>
<p><strong>证明</strong> </p>
<blockquote>
<p>设 $d = z2^{x\prime}5^{y\prime}$，则 $\frac{a}{b} + \frac{c}{d} = \frac{az2^{x\prime}5^{y\prime} + wc2^x5^y}{wz2^{x + x\prime}5^{y + y\prime}}$。接下来处理分子，由于最后是有限小数，一定存在 $k$ 使得 $az2^{x\prime}5^{y\prime} + wc2^x5^y = kwz$ 成立。</p>
<p>把 $c,k$ 看作未知数，写成 exgcd 的标准形式：</p>
<script type="math/tex; mode=display">
(-w2^x5^y) \times c + wz \times k = az2^{x\prime}5^{y\prime}</script><p>有解当且仅当 $\gcd(-w2^x5^y,wz) = w \mid az2^{x\prime}5^{y\prime}$，也就是 $w \mid az$。由于 $\gcd (a,b) = 1$，则 $\gcd (a,w) = 1$，因此得到 $w \mid z$。</p>
<p>同理，把 $a,k$ 当作未知数，可以得到 $z \mid w$。</p>
<p>综上，$z = w$ 成立。</p>
</blockquote>
<p>因此，$\frac{a}{b} + \frac{c}{d} = \frac{a2^{x\prime}5^{y\prime} + c2^x5^y}{w2^{x + x\prime}5^{y + y\prime}}$。由于最后是有限小数，所以可以进一步把和表示为 $\frac{kw}{w2^{x + x\prime}5^{y + y\prime}} = \frac{kw^2}{bd}$。枚举 $d$ 中的 $x^{\prime},y^{\prime}$，然后求不定方程</p>
<script type="math/tex; mode=display">
b \times c - w^2 \times k = -ad</script><p>直接 exgcd 后求出 $c$ 的最小值即可。</p>
</li>
</ul>
<hr>
<h4 id="2025-05-25-第十届中国大学生程序设计竞赛-济南站（CCPC-2024-Jinan-Site）"><a href="#2025-05-25-第十届中国大学生程序设计竞赛-济南站（CCPC-2024-Jinan-Site）" class="headerlink" title="2025.05.25 第十届中国大学生程序设计竞赛 济南站（CCPC 2024 Jinan Site）"></a>2025.05.25 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1843">第十届中国大学生程序设计竞赛 济南站（CCPC 2024 Jinan Site）</a></h4><p>题目好难，就做出 4 题，倒闭！</p>
<p>A,J 签到，但是 A 被我 WA 了一发。之后想 F，Zlw 用了数论做法，还用到了莫比乌斯反演，似乎复杂化了，WA 了好几次以后才过（应该已经是 2.5 h 左右了）。</p>
<p>我看了 E，感觉是个超级分类讨论题，于是开始疯狂推公式。Sky 看 B，是个模拟+暴力题，但是不好写。E 我分了 7 类，感觉差不多了就上机写。由于涉及高精度，于是果断使用 Python。样例真的水的一批，过了样例交然后喜提 WA。</p>
<p>静态调试无果，于是下机看 I 换换脑子，Sky 上机写 B。I 构造容易想到自底往上，同一个子树内的点可以直接合并，然后想到链的做法不太好搞。这时候 Sky 过了 B，于是我就没再细想，把题丢给他俩，然后调 E 去了。</p>
<p>事实证明，这是这场比赛的败笔。接下来的时间内，E 一直被形如 <code>ABAB...A</code> 需要对最后一个 <code>A</code> 调整的 case 所困扰，而他俩直接把 I 想复杂，在做树上 DP。于是一直红温到比赛结束。</p>
<hr>
<p>后来才发现，E 的 <code>ABAB...A</code> 的调整还需要细化。假设直接按照这个方案会浪费掉 $x$ 的距离，则有：</p>
<ul>
<li><p><code>B</code> 最多可以移掉 $\min (x,\lfloor\frac{D}{X + Y}\rfloor \times Y)$。</p>
</li>
<li><p>变为 <code>AA...ABAB</code> 的形式 <code>B</code> 最多有 $\min (D - \lfloor\frac{D}{X}\rfloor \times X,\lfloor\frac{D}{X}\rfloor \times Y)$。</p>
</li>
</ul>
<p>最终代码：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">up</span> (x,y) : <span class="keyword">return</span> (x - <span class="number">1</span>) // y + <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">solve</span> (A,B,C,X,Y,D) :</span><br><span class="line">    <span class="keyword">if</span> D &lt;= X : <span class="keyword">return</span> A</span><br><span class="line">    <span class="keyword">if</span> D &lt;= X + Y : <span class="keyword">return</span> <span class="built_in">min</span> (A + B * (D - X),A * up (D,X),A * (D // X) + B * (D % X))</span><br><span class="line">    ans = A * up (D,X) <span class="comment">#AA...A</span></span><br><span class="line">    <span class="keyword">if</span> D % X &lt;= Y : ans = <span class="built_in">min</span> (ans,(D // X) * A + B * (D % X)) <span class="comment">#AA...B</span></span><br><span class="line">    <span class="keyword">else</span> : ans = <span class="built_in">min</span> (ans,(D // X) * A + B * Y + (D % X - Y) * C) <span class="comment">#AA...BC</span></span><br><span class="line">    ans = <span class="built_in">min</span> (ans,A + B * Y + (D - X - Y) * C) <span class="comment">#ABC</span></span><br><span class="line">    <span class="keyword">if</span> D % (X + Y) &gt; X : ans = <span class="built_in">min</span> (ans,(D // (X + Y)) * (A + B * Y) + A + B * (D % (X + Y) - X)) <span class="comment">#ABAB...AB</span></span><br><span class="line">    ans = <span class="built_in">min</span> (ans,D // X * A + <span class="built_in">min</span> (D - D // X * X,D // X * Y) * B + (D - D // X * X - <span class="built_in">min</span> (D - D // X * X,D // X * Y)) * C) <span class="comment"># AA..ABAB..</span></span><br><span class="line">    ans = <span class="built_in">min</span> (ans,(D // (X + Y)) * (A + B * Y) + A - B * <span class="built_in">min</span> (D // (X + Y) * Y,X - D % (X + Y))) <span class="comment">#ABAB...A</span></span><br><span class="line">    ans = <span class="built_in">min</span> (ans,(D // (X + Y)) * (A + B * Y) + C * (D - (X + Y) * (D // (X + Y)))) <span class="comment">#ABAB...C</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p>而 I，那种链的情况也很好做，直接记录下剩余的点然后往上传即可。注意如果一个子树内，优先合并单点，再合并向上传过的点（因为单点不能形成自环）。赛后 Sky 写了 I，一发通过；我也在发现 corner case 以后 WA 了几发后通过。简直破大防！</p>
<p>C 纯构造竟然没发现，感觉非常好做。<code>POP n GOTO n + 1; PUSH n GOTO n</code> 就能形成链，<code>POP n GOTO n + 1; PUSH n GOTO 1</code> 就能翻倍，于是这道题做完了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span> <span class="params">(ll x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!x) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span> (x / <span class="number">2</span> % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">dfs</span> (x / <span class="number">2</span> - <span class="number">1</span>);++cnt;</span><br><span class="line">        <span class="built_in">printf</span> (<span class="string">&quot;POP %d GOTO %d; PUSH %d GOTO %d\n&quot;</span>,cnt,cnt + <span class="number">1</span>,cnt,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">dfs</span> (x - <span class="number">2</span>);++cnt;</span><br><span class="line">        <span class="built_in">printf</span> (<span class="string">&quot;POP %d GOTO %d; PUSH %d GOTO %d\n&quot;</span>,cnt,cnt + <span class="number">1</span>,cnt,cnt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="2025-05-26-The-2024-ICPC-Southeastern-Europe-Regional-Contest-SEERC-2024"><a href="#2025-05-26-The-2024-ICPC-Southeastern-Europe-Regional-Contest-SEERC-2024" class="headerlink" title="2025.05.26 The 2024 ICPC Southeastern Europe Regional Contest (SEERC 2024)"></a>2025.05.26 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1849">The 2024 ICPC Southeastern Europe Regional Contest (SEERC 2024)</a></h4><p>做点欧洲的区域赛来换换脑子。</p>
<p>开局 Zlw 发现 A 是 $n^2$ 的做法，于是不需要换根 DP 直接暴力。我在看 D，感觉变种的 Nim 游戏并不是那么好做，但 Sky 发现后手是需要连续操作 $n$ 轮，与堆数相同，那么这道题瞬间变唐。于是立刻开写，但被全是 $0$ 的 corner case 淦了一发罚时。</p>
<p>在 A 通过之后，我发现 G 是一个简单 DP，直接开写，一发通过。之后 Sky 让我看看 J，如果是极值的情况答案很简单，然后发现如果是被最大最小值加在中间时，只需要多一次操作就能将其归约到前一种情况，于是火速过 J。Zlw 在想 L，猜了一个想法并手搓平衡树，竟然一发通过，不知道有没有想复杂。</p>
<p>大家一起看 H，猜测是贪心但是又有点不会证明。这时候 Zlw 想到了一个网络流做法并保证了正确性，由于我和 Sky 对这题都没啥想法，于是就让 Zlw 开写（因此也在与正解越走越晚）。好不容易写完以后，一交 TLE，这下完蛋，被 $m$ 很小的点卡了，也没法优化。好，这下被真的卡住了，已经将近 1.5 h 没有过题。</p>
<p>好在 Zlw 重新思考贪心做法，并用尝试优先队列去维护，在四小时不到一点的时候通过。我和 Sky 在开 K，我提出维护最初每一个字符所扩展到的区间 $l_i,r_i$，Sky 推了推发现是可维护的（虽然要分好几类）。但 Sky 并不是很擅长线段树，于是我先开始上机写区间加和乘，然后让他报给我区间更新的具体内容。本来是报着打完这道题还要调试一万年的，但是我稍微修改了一下我查询写挂的地方，之后竟然直接过样例。直接交！RE！噢是有个地方没开 long long！再交！AC！我们狂喜！</p>
<p>还剩下 20 min，尝试开 C 交互，但是没啥想法，最后 7 题收尾！</p>
<hr>
<p>C 从集合与集合之间的询问出发，通过二分找到能与集合连边的单点。具体来说，$L$ 与 $R = R_1 \cup R_2$ 获得 $a + c$，然后二分右侧获得 $R_1,R_2$。之后进行进一步地询问，$L\cup R_1$ 与 $R_2$ 询问获得 $b + c$，，$L \cup R_2$ 与 $R_1$ 询问获得 $a + b$。若 $a + b + a + c = b + c$，则 $a = 0$，也就说明 $R$ 中只有 $R_2$ 与 $L$ 有直接连边。因此 $n$ 轮每次获得一个直接相连的点，询问次数在 $n + 2n \log n$。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/e1orzuoo.png" alt=""></p>
<hr>
<h4 id="2025-05-27-The-2024-ICPC-Central-Europe-Regional-Contest"><a href="#2025-05-27-The-2024-ICPC-Central-Europe-Regional-Contest" class="headerlink" title="2025.05.27 The 2024 ICPC Central Europe Regional Contest"></a>2025.05.27 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1924">The 2024 ICPC Central Europe Regional Contest</a></h4><p>开局 B,C,D 签到。然后看 L，搜索题的变种，一眼猜测需要再加一个维度表示朝向，但是不太想写，丢给 Zlw 了。</p>
<p>看 I，没想法；看 K，以为是构造，但是发现可能是搜索。发现奇数和偶数的位置一定有一种是需要全填的，但是剩余的位置还有 32 个，直接暴力不可过，于是开始各种乱搞。但是怎么尝试都 WA，于是开摆（</p>
<p>Sky 成功把 I 做出来了，真是太有实粒了！先入为主的会去想行与行之间的关系，可是如果考虑列，对于第 $i$ 个位置，进行变换 $k \to k+1$，即 $S_k[i] = S_{k+1}[P(i)]$，将这条约束在 $k=1,2,\ldots,k-1$ 都写出来：</p>
<script type="math/tex; mode=display">
\begin{pmatrix}
S_1[i] \\
S_2[i] \\
\vdots \\
S_{k-1}[i]
\end{pmatrix} \to 
\begin{pmatrix}
S_2[P(i)] \\
S_3[P(i)] \\
\vdots \\
S_k[P(i)]
\end{pmatrix}</script><p>也就是说，用第 $1,\cdots,k−1$ 轮的列向量去匹配第 $2,\cdots,k$ 轮的列向量，贪心找最小值即可。</p>
<p>Zlw 继续开 F 数据结构，上机写着写着感觉太麻烦了，又开摆（</p>
<p>最后 5 题收尾了（太累了，开启休整模式 qwq）。赛后还是看了下 K 别人的代码，发现就是疯狂减枝的爆搜，这种题都能上区域赛？有点离谱了！</p>
<hr>
<h4 id="2025-05-29-The-2023-ICPC-Asia-Jinan-Regional-Contest"><a href="#2025-05-29-The-2023-ICPC-Asia-Jinan-Regional-Contest" class="headerlink" title="2025.05.29 The 2023 ICPC Asia Jinan Regional Contest"></a>2025.05.29 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1472">The 2023 ICPC Asia Jinan Regional Contest</a></h4><p>D 签到，鹊巢原理之后就会异常好做(Zlw 佬一开始没看出来，差点写成数位 DP)。Sky 猜了一个 I 的结论，一发通过！我看 A，一下子没想法，和 Zlw 讨论了一下突然会了，只要贪心还原，然后只要有一个右括号的右侧存在一个左括号，并且中间是合法的即可。感觉很对，丢给 Zlw 去写了。</p>
<p>尝试看 K，猜想二分，但是 check 很难写。Zlw 佬看了题，一眼中位数最优，然后尝试用对顶堆去维护，似乎多了一个 $\log$，但是好在一发通过！接着 Sky 喂给我一个 G 题的做法，直接上机写并查集，写完后 WA，我思考了一会儿想到 <code>1010 1100</code> 这种既互斥又互补的做法，本来想要特判，但是发现这是一类没有考虑到的情况。Zlw 即时的提出了这就是 2-SAT，直接上扩展域并查集即可。修了好久，总算通过了。其间红温了好久，下机缓了缓，而趁着这个时间他俩讨论出了 E 的网络流做法，并一发 AC，真的太有实粒了！</p>
<p>最后开了 M，想到先求凸包，然后枚举一个基准点，用极角排序和双指针来维护答案，时间复杂度 $O(n^2 \log n)$。想得非常正确，但由于对极角排序非常的不熟悉，用 <code>atan2</code> 超时了，然后想要改成叉乘却又发现不对，还剩一个小时但是也没调出来，成罪人了（</p>
<p>好在六题收尾，并且只有一发罚时！</p>
<p>赛后补题，发现 M 的致命错误：</p>
<ul>
<li><p>制作模板的时候写的是 0-vector，而一开始自己写的却是 1-vector。</p>
</li>
<li><p>直接预处理了 <code>atan2</code> 后再排序，把超时问题解决了，这个函数是真的慢啊！！！</p>
</li>
<li><p>判断点是否在三角形内用的是角度的做法，但是有精度误差导致一直 WA 掉。最后改成看穿入穿出的奇偶性之后就对了。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">in_Poly</span> <span class="params">(vector &lt;Point&gt; P,Point A)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>,n = P.<span class="built_in">size</span> ();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = (i + <span class="number">1</span>) % n;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">on_seg</span> (A,P[i],P[j])) <span class="keyword">return</span> <span class="number">2</span>;<span class="comment">// on the edge</span></span><br><span class="line">        <span class="keyword">if</span> (A.y &gt;= <span class="built_in">min</span> (P[i].y,P[j].y) &amp;&amp; A.y &lt; <span class="built_in">max</span> (P[i].y,P[j].y)) <span class="comment">// the intersection is on the right</span></span><br><span class="line">            cnt += <span class="built_in">dcmp</span> (((A.y - P[i].y) * (P[j].x - P[i].x) / (P[j].y - P[i].y) + P[i].x) - A.x) &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt &amp; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="2025-05-30-第九届中国大学生程序设计竞赛-桂林站（CCPC-2023-Guilin-Site）"><a href="#2025-05-30-第九届中国大学生程序设计竞赛-桂林站（CCPC-2023-Guilin-Site）" class="headerlink" title="2025.05.30 第九届中国大学生程序设计竞赛 桂林站（CCPC 2023 Guilin Site）"></a>2025.05.30 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1404">第九届中国大学生程序设计竞赛 桂林站（CCPC 2023 Guilin Site）</a></h4><p>省赛前最后一训！</p>
<p>G 题面写得实在有点一言难尽，读懂题目后发现是弱智题，速速通过。接着又很快的签完 M。</p>
<p>之后看了 K，发现 $n \times m \le 180$ 的数据范围很诡异，发现可以针对 $n$ 较小和 $m$ 较小写暴力，调了一会儿三发通过（之后看题解发现答案数量有限，直接用 map 跑暴力即可）。</p>
<p>之后看 B,C，发现都不好做，于是开始坐牢。B 的贪心情况很多，Sky 一直在红温，我和 Zlw 尝试做 C。C 的式子很是特殊，由于异或是不进位加法，所以 $\operatorname{lcm} \{a_{i_j}\} \mid \bigoplus_{j=1}^m a_{i_j}$ 成立只有 $\bigoplus_{j=1}^m a_{i_j} = 0$ 或 $\bigoplus_{j=1}^m a_{i_j} = \operatorname{lcm} \{a_{i_j}\} = \max \{a_{i_j}\}$。对于第一种情况，直接跑线性基，答案为 $2^{n - r}$，$r$ 为秩。对于第二种情况，先用 $\log$ 复杂度预处理每一个最大值的约数，然后两边同时异或上最大值就规约为第一种情况，再跑线性基即可，放个代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector &lt;vector &lt;<span class="type">int</span>&gt;&gt; <span class="built_in">d</span> (<span class="number">200001</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">200000</span>;++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i;j &lt;= <span class="number">200000</span>;j += i) d[j].<span class="built_in">push_back</span> (i);</span><br><span class="line">    t = <span class="built_in">read</span> ();</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        n = <span class="built_in">read</span> ();</span><br><span class="line">        vector &lt;<span class="type">int</span>&gt; <span class="built_in">cnt</span> (n + <span class="number">1</span>,<span class="number">0</span>);Basis &lt;<span class="type">int</span>&gt; <span class="built_in">basis</span> (n,<span class="number">20</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x = <span class="built_in">read</span> ();++cnt[x];</span><br><span class="line">            basis.<span class="built_in">modify</span> (x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = (<span class="built_in">qpow</span> (<span class="number">2</span>,n - basis.<span class="built_in">query</span> ()) + MOD - <span class="number">1</span>) % MOD;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!cnt[i]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">int</span> tot = <span class="number">0</span>;</span><br><span class="line">            Basis &lt;<span class="type">int</span>&gt; <span class="built_in">tmp</span> (n,<span class="number">20</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> v : d[i]) </span><br><span class="line">                <span class="keyword">if</span> (cnt[v]) tmp.<span class="built_in">modify</span> (v),tot += cnt[v];</span><br><span class="line">            ans = (ans + <span class="built_in">qpow</span> (<span class="number">2</span>,tot - tmp.<span class="built_in">query</span> ()) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span> (<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>之后 Sky 尝试写 B，但是一直在调。我和 Zlw 讨论了 H 并得到了一个感觉相当正确的猜想。Zlw 还看了 I，不过没有什么非常好的想法。</p>
<p>打到后面稍稍有点累，于是 B 没调出来。H 我就最后 10 min 上机尝试写了一下，结果被 corner case 卡了。</p>
<hr>
<p>屎到底还是要吃的。赛后 Zlw 看了 I 的题解恍然大悟，光速过题；Sky 在发现自己的程序被卡超时后好不容易改成 $\log$ 并通过了 B；而我，在发现还要记录叶子节点上 $1$ 的个数（可以合成一个 $2$）后也通过了 H。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> dfs = [&amp;] (<span class="keyword">auto</span> self,<span class="type">int</span> u,<span class="type">int</span> fa) -&gt; <span class="type">void</span></span><br><span class="line">&#123;</span><br><span class="line">    w[u] = a[u];one[u] = a[u] == <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> v : ve[u])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">self</span> (self,v,u);</span><br><span class="line">        w[u] += w[v];</span><br><span class="line">        odd[u] = <span class="built_in">min</span> (odd[u],odd[v]);</span><br><span class="line">        even[u] = <span class="built_in">min</span> (even[u],even[v]);</span><br><span class="line">        one[u] += one[v];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (w[u] &amp; <span class="number">1</span>) odd[u] = <span class="built_in">min</span> (odd[u],w[u]);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (w[u] != <span class="number">0</span>) even[u] = <span class="built_in">min</span> (even[u],w[u]);</span><br><span class="line">    <span class="keyword">if</span> (w[u] &lt; k) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span> (w[u] == k) ++ans,w[u] = one[u] = <span class="number">0</span>,odd[u] = even[u] = INF;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (w[u] &gt; k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> del = w[u] - k;</span><br><span class="line">        <span class="keyword">if</span> (del % <span class="number">2</span> == <span class="number">1</span> &amp;&amp; odd[u] &lt;= del) ++ans,w[u] = <span class="number">0</span>,odd[u] = even[u] = INF;</span><br><span class="line">        <span class="keyword">if</span> (del % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; (even[u] &lt;= del || one[u] &gt;= <span class="number">2</span>)) ++ans,w[u] = one[u] = <span class="number">0</span>,odd[u] = even[u] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>害，只不过赛时啥实力不剩，只剩下红温了……</p>
<hr>
<h3 id="2025-06-02-省赛-The-2025-Guangdong-Provincial-Collegiate-Programming-Contest"><a href="#2025-06-02-省赛-The-2025-Guangdong-Provincial-Collegiate-Programming-Contest" class="headerlink" title="2025.06.02 省赛 The 2025 Guangdong Provincial Collegiate Programming Contest"></a>2025.06.02 省赛 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2058">The 2025 Guangdong Provincial Collegiate Programming Contest</a></h3><p>出征省赛！深圳技术大学的校园真是开放，进出门完全没有人管，校园很大，而且厕所里有空调！</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/nirsrs0h.png" alt=""></p>
<p>进到机房以后，发现有 vscode，然后监考一会儿说可以用，一会儿又说不可以（笑话）。在延迟了 15 min 左右以后终于开始比赛，好在 PTA 这次没炸。</p>
<p>发现 D 是签到，Zlw 先敲了，然后发现 dev 的 <code>-std=c++14</code> 不能用，改成 c++11，仍然报错！好了，这下直接退化成 c++98，作为一个 auto 选手，直接倒闭（于是接下来，我都拒绝上机。</p>
<p>D 写完后，Sky 开始写模拟 F，写了几发都没过，于是 Zlw 先上机一发过了 G。然后我再听了 Sky 的思路以后，极不情愿的上机开始调，看了半天以后直接重构，一交继续 WA，想了一会儿以后发现思路有问题，加了一个贪心的排序以后再交，还是 WA！我开始红温，再看了很多遍以后发现有个地方忘记写 <code>+</code> 了，赶紧改，终于再 WA6 以后通过，成大罪人了。</p>
<p>之后是 H，发现贪心连边以后直接跑 DP 就能求出所有本质不同的子串，两发通过。然后看了 J，和 Zlw 简单对了思路以后发现用优先队列维护即可。由于我不想再上机写代码，于是继续 push 了 Zlw。</p>
<p>还有将近两小时，看 I，我先想了大概的思路，但是要上机敲代码的时候发现漏考虑了容斥的部分情况。于是 Zlw 继续发力，提出直接暴力考虑三列的情况。写了半天在还有不到半小时以后过了样例，直接交！WA！</p>
<p>坏了，继续调试，发现写得似乎都没问题，继续交了几发，一直到赛后也没过……五题收尾！</p>
<p>本来以为只有 Cu，后来发现 Ag 的比例也有 $20\%$，最后 rk62 Ag（还被另一支校队伍从 $4 \to 6$ 翻盘，真的是不封榜不会写代码了）。</p>
<hr>
<p>赛后补题：</p>
<ul>
<li><p>I 发现看错题了，有一只队伍需要强制选择，而我们在一次次转述题意之后出现了差错，导致没过题的惨剧。也就是说，我们的方法做成了更加复杂的版本，因此我加了点补丁以后直接过了。</p>
</li>
<li><p>A Zlw 的思路大致正确，于是赛后交了几发以后通过。其间 WA 时因为某些 long long 和 <strong>int128 的问题，最后跪着接（`#define long long </strong>int128`） 就过了。</p>
</li>
<li><p>我补了 K，直接上哈希。发现答案递增，然后用哈希判断回文，用哈希和等比数列公式验证是否存在循环节。直接枚举答案以及 $[1,i]$ 的询问即可。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Hash <span class="title">dl</span> <span class="params">(s)</span></span>;<span class="built_in">reverse</span> (s.<span class="built_in">begin</span> (),s.<span class="built_in">end</span> ());<span class="function">Hash <span class="title">dr</span> <span class="params">(s)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">auto</span> check = [&amp;] (<span class="type">int</span> x) -&gt; <span class="type">bool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) <span class="keyword">return</span> dl.<span class="built_in">get</span> (<span class="number">1</span>,i) == ((dl.<span class="built_in">get</span> (<span class="number">1</span>,<span class="number">1</span>) * (Z &lt;ll,MOD&gt; (<span class="number">1</span>) - dl.<span class="built_in">get_pw</span> (i))) / (Z &lt;ll,MOD&gt; (<span class="number">1</span>) - base));</span><br><span class="line">        <span class="keyword">if</span> (x * <span class="number">2</span> - <span class="number">1</span> &gt;= i)</span><br><span class="line">        &#123;</span><br><span class="line">            Z &lt;ll,MOD&gt; dx = dl.<span class="built_in">get</span> (<span class="number">2</span> * x - i,x),dy = dr.<span class="built_in">get</span> (n - i + <span class="number">1</span>,n - x + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> dx == dy;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> r = x * <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">        Z &lt;ll,MOD&gt; dx = dl.<span class="built_in">get</span> (<span class="number">1</span>,r),dy = dr.<span class="built_in">get</span> (n - r + <span class="number">1</span>,n);</span><br><span class="line">        <span class="keyword">if</span> (dx != dy) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        --r;</span><br><span class="line">        dx = dl.<span class="built_in">get</span> (<span class="number">1</span>,r) * (Z &lt;ll,MOD&gt; (<span class="number">1</span>) - (dl.<span class="built_in">get_pw</span> (r) ^ (i / r))) / (Z &lt;ll,MOD&gt; (<span class="number">1</span>) - dl.<span class="built_in">get_pw</span> (r));</span><br><span class="line">        dx = dx * dl.<span class="built_in">get_pw</span> (i % r) + dl.<span class="built_in">get</span> (<span class="number">1</span>,i % r);</span><br><span class="line">        <span class="keyword">return</span> dx == dl.<span class="built_in">get</span> (<span class="number">1</span>,i);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = res;j &lt;= i;++j)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span> (j)) &#123;res = j;<span class="keyword">break</span>;&#125;</span><br><span class="line">    ans ^= <span class="number">1ll</span> * i * res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="8-9-月训练"><a href="#8-9-月训练" class="headerlink" title="8-9 月训练"></a>8-9 月训练</h3><h4 id="2025牛客暑期多校训练记录"><a href="#2025牛客暑期多校训练记录" class="headerlink" title="2025牛客暑期多校训练记录"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/article/kwjyfukk">2025牛客暑期多校训练记录</a></h4><hr>
<h4 id="2025-08-30-CCPC-2023-Harbin-Site"><a href="#2025-08-30-CCPC-2023-Harbin-Site" class="headerlink" title="2025.08.30 CCPC 2023 Harbin Site"></a>2025.08.30 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1412">CCPC 2023 Harbin Site</a></h4><p>D,G 被 Zlw 秒了，J,M 被 Sky 秒了，B,L 被 Zlw 救了！</p>
<p>B 看上去是签到，我先上机开写。注意到了多次除以 $2$ 有可能会造成精度问题，所以就加了个 eps。但是交上去还是 WA 了，这时候被 Zlw 救救，说可以把除以 $2$ 移项改为乘 $2$，然后用 Python 来写。我果断采取建议，修改后通过！</p>
<p>接下去 M 是一道简单模拟，就交给 Sky 来写。花了 20 min 左右，过样例以后一发通过。</p>
<p>我接下去看了 L，想到可以固定第一位数，然后后面的数通过 2 操作在转，类似插入排序的原理。但是在实现上出现了问题，没有考虑到第一个位置数的顺序问题从而无法正确排序。</p>
<p>Zlw 上来就在看 D，一道数论和图论的结合题。佬在想明白只需要考虑价值为 $\omega(w)$ 和 $\omega(w + 1)$ 的边以后就会了，预处理后直接最小生成树即可。后来看了 XCPC board，发现差一发就是一血，是一道 Au 题！</p>
<p>写完 D 后 Zlw 佬看我红温了，于是交流了一下指出我的问题，并把我踹下去重新实现了。</p>
<p>我和 Sky 开始讨论 J 博弈论。Sky 首先列出了很大的一张表格，尝试去找规律。然后我对于一棵树，根据奇偶性，提出了点奇数删边，偶数边删点的猜想。但是在由树变为森林的时候，两条链（3 + 2）构成的情况的答案数量产生了疑问，似乎在一定程度上需要把猜想反过来。</p>
<p>继续手动模拟 SG 函数，突然发现偶数边偶数点的情况下答案都是 $0$，又试了几个确定了这个猜想。于是题目变成分类讨论度数即可。</p>
<p>我们卡 G 也有点时间，然后我突然点出墙体只有竖着的，于是简化了问题。主要是连续两行之间的合并，利用双指针就能实现，然后最后只需要根据边数和点数判断是否为一棵树即可。注意，$n \ge 2 $ 时 $m &gt; 2 \times 10^5$ 显然为 <code>No</code>，但是 $n = 1$ 时需要特判。于是我们在这里挂了一发。</p>
<p>总体来说这场打得不错，对照着 XCPC board 似乎差三名就能 Au，怪我 L 写得慢还写红温了……</p>
<hr>
<h4 id="2025-08-31-CCPC-2023-Qinhuangdao-Site"><a href="#2025-08-31-CCPC-2023-Qinhuangdao-Site" class="headerlink" title="2025.08.31 CCPC 2023 Qinhuangdao Site"></a>2025.08.31 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1411">CCPC 2023 Qinhuangdao Site</a></h4><p>A 是简单构造，花费 2 s 想到解法，全部可以构造成互质的情况，但是第一发 WA。先让 Sky 来写 G，答案就是 $\sum \limits_{i = 2} ^ n |a_i - a_{i - 1}| + |b_i - b_{i - 1}|$。</p>
<p>然后发现 A 题目保证 $k \ge 2n$ 但是我只用了 $2n - 1$ 个，发现没有保证第一个数和最后一个数的行列都至少有两个数字，修补一下就过了。</p>
<p>Zlw 看了 J，是一道简单子集枚举的状压，时间复杂度为 $O(3^n + n2^n)$。</p>
<p>接下来两小时内无人过题……</p>
<p>D 被 Zlw 想到了一个 DP，然后用双指针和平衡树在维护，感觉很是复杂。提交了好几遍都没过，对拍还没拍出来。然后 Sky 还开了 F，要求相邻两数得是质数，然后注意到 $1 + 1 = 2$ 这个质数比较特殊，接下去没什么进展。</p>
<p>然后我突然灵光一现，想到了 D 可能是个贪心。由于优惠券可以叠加使用，可以先将优惠券按照过期时间排序，然后对于当前优惠券，选择 $[1,r_i]$ 范围内 $a_i$ 最小的那个，然后 $a_i \leftarrow a_i - w_i$，最后直接对 $a_i$ 排序即可。于是上机写，让 Zlw 去看 Sky 的题。</p>
<p>我在写的时候，Zlw 提出一个 DP 的写法，$dp_{i,0/1/2/3}$ 表示填第 $i$ 个数时，$i$ 改为偶数，不为 $1$ 的奇数，为 $1$，不变这四种情况，然后就能够转移。</p>
<p>D 对于更新 $a_i$ 没啥好的想法，直接上线段树进行更新，写完以后一遍过样例，直接交，终于 AC！</p>
<p>Zlw 的 F 也过样例了，但是 WA。叫我过去瞅瞅，一行行给我翻译，然后我突然发现有一种情况转移的时候漏掉了固定为 $1$ 的情况，修改以后直接通过。</p>
<p>接下去看了 M，但是没啥想法，于是下班。事实证明，全队的树形 dp 不太行（牛客的时候遇到树形 dp 的中档题也没解出来）。最后 $5$ 题，但是我们的 DF 都是三小时的时候才过，于是在 XCPC board 上只能排到 Cu！</p>
<hr>
<h4 id="2025-09-05-The-15th-Shandong-CCPC-Provincial-Collegiate-Programming-Contest"><a href="#2025-09-05-The-15th-Shandong-CCPC-Provincial-Collegiate-Programming-Contest" class="headerlink" title="2025.09.05 The 15th Shandong CCPC Provincial Collegiate Programming Contest"></a>2025.09.05 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2040">The 15th Shandong CCPC Provincial Collegiate Programming Contest</a></h4><p>临时加训了一场简单的 SUA 省赛场，用来增强信心！Zlw 佬还在赛时秒了 E，一开始 TLE，稍微优化了一下就过了，结果还是一血来着！</p>
<p><img src="https://i-blog.csdnimg.cn/img_convert/fdb313d5edae10da0e1976b9bb3e1db3.png" alt=""></p>
<hr>
<h3 id="网络预选赛"><a href="#网络预选赛" class="headerlink" title="网络预选赛"></a>网络预选赛</h3><h4 id="2025-09-07-The-2025-ICPC-Asia-East-Continent-Online-Contest-I"><a href="#2025-09-07-The-2025-ICPC-Asia-East-Continent-Online-Contest-I" class="headerlink" title="2025.09.07 The 2025 ICPC Asia East Continent Online Contest (I)"></a>2025.09.07 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2513">The 2025 ICPC Asia East Continent Online Contest (I)</a></h4><p>赛时 6 题，最后两小时有点倒闭，没有过题，在同校中排 rk3（由于前期光速过题，我们是六题队在排在前面的。但是非常可恶，被牢周队在封榜以后反超了）。</p>
<p>G 签到，其实是 Sky 做出来的，一开始 Zlw 以为连通就可以，但是突然发现小的数会卡在前面阻止别人交换。Sky突然说必须要连 $1\rightarrow 2\rightarrow\cdots\rightarrow n$，Zlw 觉得有道理，但是由于数组开小了段错误了一发。</p>
<p>接着 A 大模拟，趁着队友上机仔细想了细节，后来上机一发过，这是好的！</p>
<p>刚下机队友就发现 B 是个大诈骗，发现 $\gcd$ 的可能结果是 $n$ 的约数，理论上可以枚举，然后计算每个 $\gcd$ 的方案数。一开始看错题了以为 $a$ 是给定的，后面发现 $a_i=i$，突然想到对于每一个约数的同余结果是相同的，在想容斥的过程中突然发现只要连续的删除数对于结果的影响理应是相同的。所以直接删 $[1,K]$ 理论可行。验证了一下确实与样例结果相同，提交了一下过了。直接输出 $1 \sim k$ 就过了！</p>
<p>接下去队友发现不太会 D，于是 Zlw 开始尝试看。他俩开始讨论 M，很明显的分层图最短路，只不过 $O(nm(\log n+\log m))$ 的复杂度很劝退。进一步发现可以一层层转移，每一层只需要考虑树上的松弛操作，很容易跑不满，加上单层转移的时候可以做到 $O(nm\log n)$ ，比上面的复杂度稍有优化，且常数小不少，写了一下 $0.9s$ 跑过。写完以后 pta 在队长机上崩了一会儿，自带罚时，捣鼓两分钟以后才交了上去，好在一发通过。</p>
<p>D 我觉得可能是贪心，考虑链的情况，如果出现峰值，就把差值绝对值小的一边删掉。可是想了一会儿发现 <code>5 3 9 1</code> 的情况会把 $3$ 的两条链全都删掉，看来贪心不太对。</p>
<p>然后队友看了 I，突然冒出来一堆人通过，于是看了一眼。通过奇妙证明发现，变向不会使得答案变大，于是反过来说变向也不会使得答案变小，于是正反向答案不变。结合大量的通过人数进一步验证，于是从 $T$ 出发跑最短路即可。</p>
<p>D 依旧倒闭，三个人都想过了还是不太行。于是看看 C，感觉很贪，一开始想要从小区间扩展到大区间，但是发现 $[1,2],[4,5],[2,4]$ 这组数据可以 hack 掉。Zlw 开始发力！一开始又读错题以为 $a$ 是给定的，直到看到 $1\leq n\leq 10^9$ 才发现又是 $a_i=i$。于是变得非常可做，大部分赋值都会使得答案 $-1$。从左到右考虑区间，进一步发现在原本选定的赋值方案后，可以通过在实际上倒着操作来构造合法方案。然后通过各种手玩发现按照 $(r,l)$ 升序排序会比较好处理。问题转化为一个贪心，用 set 分区间维护未删除的点，找到 $\geq l$ 的第一个未删点分配给区间即可。我想了想，感觉很对，于是他又上机写，一发通过！！！！</p>
<p>他俩看了看其它题，D 依旧放着。发现 F 是个好玩的交互，提出了可以一个隔一个的防御，于是 Sky 开始执笔迷题。</p>
<p>至于 D，开局只有队长机能登录，一题题速览，Zlw 看到 D 题题面较短，很快读完发现是个树树题，于是 Zlw 就先到旁边想了，在可以跟榜前没有任何思路，等到发现 G 有人过了就先扔了 D。结果一直到最后卡题的时候才由 Scy 提出了一个神妙贪心，对于一个节点，与下面的节点合并只有三种方式，从头合并，从尾合并以及中间合并。联想到可以分开算贡献，只考虑每一对父亲儿子的贡献即可。但是最后 dp 的时候发现一个后缀和处理错误，以及在考虑两条链合并的时候没有加入其它儿子的贡献，赛时直到最后都没有做出来。</p>
<p>但是写完由于一些神秘的 bug，导致到最后都没过。最后半小时 Sky 还来尝试了 F，但是由于细节太多，这题也没过。最后总排 309，遗憾离场了！</p>
<hr>
<p>【Scy の补题】</p>
<p>让我们来完整的重新复现一下 D 的思路以及最后的死亡回放：</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/11q5w63u.png" alt=""></p>
<p>改完以后就 AC 了，警钟长鸣。</p>
<p>令 $dp_{u,0/1/2}$ 表示 $u$ 点放到中间，放到右侧，放到左侧时 $u$ 子树内的答案。让我们先来分析一下几种情况。</p>
<ul>
<li><p>$dp_{u,1}$ 的更新相当于一个原来为向右的箭头，$a_v$ 在最右侧。当 $a_u &gt; a_v$ 时，对 $dp_{u,1}$ 的<strong>额外</strong>的贡献为 $a_u - a_v$，否则为负贡献。</p>
</li>
<li><p>$dp_{u,2}$ 的更新同理，其中正的<strong>额外</strong>贡献为 $a_v - a_u$。若出现负贡献，实际上会在另一种情况中变为正的贡献。</p>
</li>
<li><p>$dp_{u,0}$ 稍微复杂一点，分为四种情况：</p>
<ul>
<li>$\rightarrow u  \leftarrow$ 且两个箭头不重叠，这一段的贡献<strong>更新</strong>为 $dp_{k1,1} + dp_{k2,2} + w_{k2} - w_{k1}$。</li>
<li>$\rightarrow u  \leftarrow$ 且两个箭头重叠，这一段的贡献<strong>更新</strong>为 $dp_{k1,1} + dp_{k2,2} -(w_{k1} - w_{k2})$，减去的就是重叠的那一部分，改为加号其实和第一种情况表达式一致。</li>
<li>$\leftarrow  u  \rightarrow$ 且两个箭头是否重叠均可，此时 $dp_{u,0}$ 无法处理贡献，但是该情况会被归类为 $dp_{u,1/2}$。</li>
</ul>
</li>
</ul>
<p>综上所述则有 </p>
<script type="math/tex; mode=display">
\begin{cases}
dp_{u,1} = \max \limits_{k \in son_u}\left\{\sum \limits_{v \in son_u \mid v \neq k} \max \{dp_{v,0},dp_{v,1},dp_{v,2}\} + dp_{k,1} + w_u - w_v\right\}\\
dp_{u,2} = \max \limits_{k \in son_u}\left\{\sum \limits_{v \in son_u \mid v \neq k} \max \{dp_{v,0},dp_{v,1},dp_{v,2}\} + dp_{k,2} + w_v - w_u\right\}\\
dp_{u,0} = \max \limits_{k1,k2 \in son_u\wedge k1 \neq k2}\left\{\sum \limits_{v \in son_u \mid v \neq k1 \wedge v \neq k2} \max \{dp_{v,0},dp_{v,1},dp_{v,2}\} + dp_{k1,1} + dp_{k2,2} + w_{k2} - w_{k1}\right\}\\
\end{cases}</script><p>对于 $dp_{u,0}$ 的更新，直接做是 $O(n^2)$ 的，但是我们可以预处理 $dp_{k2} + w_{k2}$ 前后缀最大值，这样就可以在 $O(n)$ 的时间内更新完。于是这道题做完了，最后时间复杂度为 $O(n)$，代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">read</span> ();</span><br><span class="line">    vector &lt;<span class="type">int</span>&gt; <span class="built_in">a</span> (n + <span class="number">1</span>);</span><br><span class="line">    vector &lt;vector &lt;<span class="type">int</span>&gt;&gt; <span class="built_in">ve</span> (n + <span class="number">1</span>);</span><br><span class="line">    vector &lt;vector&lt;ll&gt; &gt; <span class="built_in">dp</span> (n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;ll&gt;(<span class="number">3</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i) a[i] = <span class="built_in">read</span> ();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">read</span> (),v = <span class="built_in">read</span> (); </span><br><span class="line">        ve[u].<span class="built_in">push_back</span> (v);ve[v].<span class="built_in">push_back</span> (u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> dfs = [&amp;] (<span class="keyword">auto</span> self,<span class="type">int</span> u,<span class="type">int</span> fa) -&gt; <span class="type">void</span></span><br><span class="line">    &#123;</span><br><span class="line">        vector &lt;ll&gt; <span class="built_in">pre</span> (ve[u].<span class="built_in">size</span> (),<span class="number">0</span>),<span class="built_in">suf</span> (ve[u].<span class="built_in">size</span> (),<span class="number">0</span>);</span><br><span class="line">        ll mx1 = <span class="number">-1e18</span>,mx2 = <span class="number">-1e18</span>;<span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> v : ve[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="built_in">self</span> (self,v,u);</span><br><span class="line">            ll gv = <span class="built_in">max</span> (&#123;dp[v][<span class="number">0</span>],dp[v][<span class="number">1</span>],dp[v][<span class="number">2</span>]&#125;);</span><br><span class="line">            mx1 = <span class="built_in">max</span> (mx1,dp[v][<span class="number">1</span>] + (a[u] - a[v]) - gv);</span><br><span class="line">            mx2 = <span class="built_in">max</span> (mx2,dp[v][<span class="number">2</span>] + (a[v] - a[u]) - gv);</span><br><span class="line">            pre[c] = suf[c] = dp[v][<span class="number">2</span>] + a[v] - gv;</span><br><span class="line">            dp[u][<span class="number">1</span>] += gv,dp[u][<span class="number">2</span>] += gv,dp[u][<span class="number">0</span>] += gv;</span><br><span class="line">            ++c;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[u][<span class="number">1</span>] = <span class="built_in">max</span> (dp[u][<span class="number">1</span>],dp[u][<span class="number">1</span>] + mx1);</span><br><span class="line">        dp[u][<span class="number">2</span>] = <span class="built_in">max</span> (dp[u][<span class="number">2</span>],dp[u][<span class="number">2</span>] + mx2);</span><br><span class="line">        --c;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= c;++i) pre[i] = <span class="built_in">max</span> (pre[i],pre[i - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = c - <span class="number">1</span>;i &gt;= <span class="number">0</span>;--i) suf[i] = <span class="built_in">max</span> (suf[i],suf[i + <span class="number">1</span>]);</span><br><span class="line">        <span class="type">int</span> cc = <span class="number">0</span>;ll res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> v : ve[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">            ll mx = <span class="number">-1e18</span>,gv = <span class="built_in">max</span> (&#123;dp[v][<span class="number">0</span>],dp[v][<span class="number">1</span>],dp[v][<span class="number">2</span>]&#125;);</span><br><span class="line">            <span class="keyword">if</span> (cc) mx = <span class="built_in">max</span> (mx,pre[cc - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (cc != c) mx = <span class="built_in">max</span> (mx,suf[cc + <span class="number">1</span>]);</span><br><span class="line">            res= <span class="built_in">max</span> (res,dp[u][<span class="number">0</span>] + dp[v][<span class="number">1</span>] - a[v] + mx - gv);</span><br><span class="line">            ++cc;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[u][<span class="number">0</span>] = res;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">dfs</span> (dfs,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,<span class="built_in">max</span>(&#123;dp[<span class="number">1</span>][<span class="number">0</span>],dp[<span class="number">1</span>][<span class="number">1</span>],dp[<span class="number">1</span>][<span class="number">2</span>]&#125;));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>【Sky の补题】</p>
<p>题目大意很简单，就是一个棋盘，我先手，一次可以随便下一个位置，然后机器人有一个初始位置，一次可以往<strong>八个方向</strong>随便走一格，目标就是堵住机器人。</p>
<p>注意到题目给了最大步数限制 $T=1000$，以及机器人最大初始位置 $(20, 20)$，考虑建一堵横着 $30$，竖着 $30$ 的墙，把机器人围在墙内，然后在里面随便填，最多也就 $30 \times 30=900$ 步（现在想了下好像都不用 $30$ 那么远，但赛时为了方便就直接选了 $30$）。</p>
<p>我们先手，是个很有用的条件，如何利用好这个条件是解体的关键。当然，开局要先堵 $(30,30)$，这个其实比较神秘，因为开局不知道机器人怎么走的话，堵其他地方都会浪费。</p>
<p>在草稿纸上玩了半个小时后，发现如果机器人<strong>离边界比较远的话</strong>，其走的八个方向可以分为四类：</p>
<ol>
<li>左、左下、下。这一类不会威胁我建墙，随便建即可。</li>
<li>左上、上。这一类会威胁我建上面的墙，我需要在机器人当前坐标的正上方（顶到 $30$）的<strong>左边两格</strong>建墙。</li>
<li>右下、右。这一类会威胁我建右边的墙，同理，我需要在机器人当前坐标的正右方（顶到 $30$）的<strong>下面两格</strong>建墙。</li>
<li>右上。这是威胁最大的，同时影响我建上面和右边的墙，所以我记录一个布尔变量 $tf$，用于轮流建上面和右边的墙。</li>
</ol>
<p>当然，如果这种方式需要建的墙被堵住了，在它旁边能建的位置建一个就好了，反正要尽快建墙。</p>
<p>但是，如果机器人走到<strong>离边界比较近</strong>的地方，具体就是差 $2$ 格的位置，我们就要考虑结合上面的策略，不要让机器人走出去。</p>
<p><img src="https://img.skyzhou.top/i/2025/09/08/68be5d81f21fb.png" alt=""></p>
<p>比如上图这种情况，我们的上面的策略其实是可以保证机器人快到边界的时候，不会出现它能到达的五个边界格子 $(4,30),(5,30),(6,30),(7,30),(8,30)$ 有三个连续空缺的情况，这种情况聪明的机器人肯定能走出去。那么假设遇到了上图这种漏洞比较大的情况，我们肯定要优先堵住 $(6,30)$，然后根据它的移动再去堵下一个。</p>
<p>我们要保证一个事情：机器人离下边界的时候只有 $2$ 格的时候，它的正下方及周围一共五个格子，必须有至少两个是填上的；以及，机器人离下边界只有一个格子的时候，它的正下方及周围一共三个格子，必须有至少两个是填上的（这个好理解）。</p>
<p>然后墙就建完啦！剩下的就是把机器人围在墙里面，一点一点堵死，感觉机器人应该会很兴奋吧！😋</p>
<hr>
<h4 id="2025-09-14-The-2025-ICPC-Asia-East-Continent-Online-Contest-Ⅱ"><a href="#2025-09-14-The-2025-ICPC-Asia-East-Continent-Online-Contest-Ⅱ" class="headerlink" title="2025.09.14 The 2025 ICPC Asia East Continent Online Contest (Ⅱ)"></a>2025.09.14 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2524">The 2025 ICPC Asia East Continent Online Contest (Ⅱ)</a></h4><p>C 看了一眼 Zlw 和 Sky 都认为是签到，按照套路先二分，然后尝试贪心分配。发现可以封装一个函数从小到大硬分配每一种题目，然后中间分类讨论如何把前面的东西补到后面然后再用之前那个函数补齐前面，分类讨论少了一点，大概 30 分钟写完。</p>
<p>接下来是 D 题。</p>
<p>【Sky 推柿子】考虑一个子序列的元素被一个一个卖掉所能得到的最大价值是，先将子序列从小到大排序（$a_1$ 到 $a_n$），然后从后往前卖，这样后面大的价值可以累积到前面，我们会得到最大价值：</p>
<script type="math/tex; mode=display">
W_i = a_1 + a_2 + 2 a_3 + 2^2 a_4 + \cdots 2^{n-2} a_n</script><p>然后我们先将原本给定的序列排序，对于所有子序列，只需要考虑 $a_i$ 作为子序列的第 $j$ 个数的贡献。Zlw 佬推了一下式子发现总的答案就是</p>
<script type="math/tex; mode=display">
\begin{align}
W &= \sum_{i=1}^n \left( \sum_{j=2}^i \binom{i - 1}{j - 1} \cdot 2^{j-2} \cdot 2^{n-i} + 2^{n-i} \right) \\\ 
&= \sum_{i=1}^n 2^{n-i} \left( \sum_{j=2}^i \binom{i - 1}{j - 1} \cdot 2^{j-2} + 1 \right) \\\ 
&= \sum_{i=1}^n 2^{n-i} \cdot \left( \frac{3^{i-1}-1}{2}+1 \right) \\\ 
&= \sum_{i=1}^n 2^{n-i} \cdot \frac{3^{i-1}-1}{2}
\end{align}</script><p>这里要注意两个细节：</p>
<ul>
<li><p>一个是最大价值序列的系数并不是一个 $2^i$ 的序列，其第一项和第二项都是 $1$，在计算答案的时候要处理一下。</p>
</li>
<li><p>第二个就是二项式定理，要确保不算错。</p>
</li>
</ul>
<p>【Zlw 推柿子】尝试计算 $a_i$ 在最终答案中的出现次数。可以枚举 $a_i$ 在答案中的排名 $r$，相同 $a_i$ 约束为按原序列的顺序即可。得到：</p>
<script type="math/tex; mode=display">
f_i=[\sum_{i=2}^{r} \binom{r-1}{i-1}2^{n-r}\times 2^{i-2}]+2^{n-r}=2^{n-r}\times(\sum_{i=0}^{r-1}(\binom{r-1}{i}2^{i-1})-\frac{1}{2})+1)=2^{n-r}\frac{3^{r-1}+1}{2}</script><p>然后乘上系数加起来即可。</p>
<p>我在看 E，看着 $n,m$ 均为 $10^9$ 的数据产生了疑问，趁着空机的时候敲了暴力 dfs。很快就发现 $n$ 为奇数的时候答案为 $(2^m - 1)^{n - 1}$，但是偶数的时候没发现规律。Zlw 看了一眼奇数的答案然后尝试猜测含义，$n - 1$ 个数随便填，然后用最后一个数去修正。偶数似乎会遇到相邻重复的问题。于是我灵光一现，尝试用奇数规律的答案和正确答案作差，还真给我找到规律了！偶数时候的答案为 $(2^m - 1)^{n - 1} + (-1)^{\frac{n}{2}} \times (2^m - 1)^{\frac{n}{2}}$。哦，还要特判 $n = 2$ 时答案为 $0$。于是乎这题被我猜完了，提交一发通过。</p>
<p>H 题 Zlw 看了很久终于看懂题了，然后发现其实可以强制链头链尾改变，然后算每个长度的链有多少条就可以。但是感觉思路很简单，跟树没什么关系，然后中间清空写挂了一个 corner case 一直没发现，红温了很久。还贡献了两罚时 + 40 min 思考时间（这也导致我们比另外一个队罚时多了 2 min）。</p>
<p>I 题 Zlw 开局有点看错题，以为可以直接问 $(1,n,1)$，后来发现询问出来的式子形如 $zf_1+z^2f_2+z^3f_+\cdots +z^{n-1}f_{n-1}$，但是并未想打拉格朗日插值，只想到也许可以高斯消元。Sky 尝试根据图上的情况寻找方案但是失败了，于是 Sky 去和 Scy 看计算几何去了。从高斯消元的思路出发，尝试通过 $n-1$ 次询问特殊的 $z$ 从而能够 $n^2$ 消元。最终在系数矩阵上发现了规律，由于最终只关心最后一个式子的结果，可以计算从 $n-1$ 个式子凑最后给定式子的值，于是可以把矩阵旋转求 $n-1$ 个系数。此时的矩阵第 $i$ 列形如 $\vec a=[a_i,a_i^2,a_i^3,\cdots,a_i^{n-1}]$，令第 $j$ 行式子为 $f_j$，对每个 $i$ 做差分 $f_j\leftarrow f_j-a_i\times f_{i-1}$ 即可消出上三角矩阵，每一项呈现下降幂的形式。如果询问 $1$ 到 $n-1$ 则会使得上三角的 $a_{i,j}=A(j,i)$。然后对上三角直接消元即可 $n^2$ 得到系数了。</p>
<p>但是赛时写错了 $A^m_n$ 的公式，找 Sky 验证还说没问题，以为真没问题。以及差分的时候每次只用差分 $n-i+1$ 项，结果我全部差分了，后面数组还搞错了一个地方。但是沙比交互库 WA 返回 RE，最后时间紧只测了一个手搓的样例，以为只是哪里不小心 RE 了一直疯狂提交直到发现是感叹号之后 RE 了，一直没有认真调试，以后交互题不能相信交互库返回的结果。</p>
<p>A 题其实不难，但是因为是计算几何，一开始就直接跳过了，最后一个小时才开始认真看，结果最后因为一点点小细节没有 AC。</p>
<p>题目大意是给定 $z$ 平面上几个点，每个点都可能有半径为 $R_2$ 的误差，然后有个半径为 $R_3$ 的球体小鸟，中心在 $z$ 平面上，可以在给的几个点之间随便游走，求小鸟游走可能最大的凸包体积。</p>
<p>稍微画几个图就会发现其实就是，直接先求原来几个点的平面凸包，然后凸包最外围延申 $R_2$ 的长度，端点处就是圆形平滑曲线。样例给的图挺好的。然后到三维就是刚才这个围起来的曲线边缘变成半径为 $R_3$ 的半球形，高度为 $2R_3$ 的立体图形。样例如下图所示，就是求这玩意的体积：</p>
<p><img src="https://img.skyzhou.top/i/2025/09/17/68ca621c399d4.png" alt=""></p>
<p>赛时 Sky 已经通过切割，将这个图形大致分成三个部分：中心的柱体、周围直线边和圆角。其中中心柱体和直线边都很好算，简单的体积公式就能算出来，但是，<strong>在计算圆角的体积的时候出现了严重问题</strong>。</p>
<p><img src="https://img.skyzhou.top/i/2025/09/17/68ca6306e867a.png" alt=""></p>
<p>Sky 和 Scy 当时简单地将圆角又切成了上面两个立体图形，一个标准圆柱体和一个半圆柱体，想当然地认为圆角体积和就是：</p>
<script type="math/tex; mode=display">
V_1 = 2 \pi R_2^2 R_3 + \pi^2 R_2 R_3^2</script><p>导致赛时最后十分钟连样例都没过，而且就差一点。那么这个式子错在哪呢，难道圆角不能这么切割吗？还真是。</p>
<p>赛后 Sky 用积分重新算了一遍，先记：</p>
<script type="math/tex; mode=display">
R = R_2 + \sqrt{R_3^2 - z^2} \\\ 
f(z) = S = \pi R^2</script><p>然后体积就是</p>
<script type="math/tex; mode=display">
\begin{align}
V_2 &= 2 \int_0^{R_3} f(z) dz \\\ 
&= 2 \int_0^{R_3} (\pi R_2^2 + \pi R_3^2 - \pi z^2 + 2 \pi R_2 \sqrt{R_3^2 - z^2}) dz \\\ 
&= 2 \pi R_2^2 R_3 + \pi^2 R_2 R_3^2 + \frac{4}{3} \pi R_3^3
\end{align}</script><p>会发现 $V_2$ 比上面的 $V_1$ 多了一个 $\frac{4}{3} \pi R_3^3$，即一个半径为 $R_3$ 的球的体积，就是鸟本身，到底哪里多出来了一只鸟？？</p>
<p>其实就是切割圆角的问题，我们将圆柱周围一圈展开的时候，是不能直接用右边那个半圆柱的体积去算的，因为这个半圆柱是<strong>压缩</strong>过的，我们要考虑内半径和外半径长度不同，也就是说周围这一圈是<strong>不能被展开的</strong>，要么用积分算，要么就展开后再把球体的体积加上。</p>
<p>赛后加了鸟的体积之后一发通过。</p>
<hr>
<h4 id="2025-09-20-第十一届中国大学生程序设计竞赛网络预选赛（CCPC-Online-2025）"><a href="#2025-09-20-第十一届中国大学生程序设计竞赛网络预选赛（CCPC-Online-2025）" class="headerlink" title="2025.09.20 第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）"></a>2025.09.20 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2534">第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）</a></h4><p>E 题发现是签到，但是 Sky 一开始有点急，报了一个错误的答案，喜提 20 min 罚时。冷静了一下发现答案应该是 $2(m - \lfloor\frac{n}{2}\rfloor) - 1$，重新提交后通过。</p>
<p>A 题 Sky 和 Zlw 开了。开局先看错题以为正方形需要横平竖直，看完样例突然傻眼，我一开始认为可以枚举弦图中间的小正方形，然后做八次区间加，复杂度根号但是常数巨大且不好写。然后 Sky 通过约束 $4$ 个顶点的位置写出了不等式，可以枚举其中一个变量然后直接算另一个变量的区间即可，复杂度根号，可以通过。</p>
<p>我想到一个 G 的做法，于是上机尝试写，写到一半突然发现如果一个数有 $\frac{n}{2}$ 次，然后询问其它所有数，会直接导致我卡成 $n^2$。于是开始进一步手玩 K，试了几个发现倒序输出就是最优的，然后此时答案是 $\frac{n(n + 1)}{2}$，第一 WA 由于数错了导致，重新修正以后通过。</p>
<p>Zlw 来看 G 了，想了一下 Scy 的做法虽然假了，但其实他的做法再根号分治一下就真了。思考后用了传统序列分块，块之间的贡献直接算，块内 $O(B^2)$ 预处理，总复杂度 $O(n^{1.5})$。</p>
<p>C 题 Sky 先和讨论 Scy 然后提出了一个神奇的贪心。Sky 在转述的时候用了一个比较形象的例子，但 Zlw 认为有点误导题目意思（甩锅）。后来发现本质上是完全图最小生成树，尝试想 B 算法。结合 Sky 的思路本质上是要找连通块外的最小边，与 B 算法极为类似，由于没写过 B 算法，出于正确性的考量，启发式合并存储了每个连通块内的点，用块内点消除全局 multiset 的贡献后寻找最近点，然后并查集合并，迭代了 $O(\log n)$ 层，交上去发现过了。</p>
<p>之后我发现 M 是一个超绝构造就开始想。赛时没有考虑到一些问题导致假掉一直 WA，最后也没过。赛后修补了 bug 但发现需要 $&gt; 200$ 次，遂倒闭。</p>
<p>首先先对 $X$ 求前缀和，每次选取每块的第 $i$ 位去加上前一位的值。但有些位置是不需要的，得把影响消除，于是花费额外的 $2 \times 32 = 64$ 次借助 $Y$ 做乘法后做减法。之后是块之间的合并，但是仍然要考虑到多余的影响，于是 $Y$ 先做前缀 $\max$，之后再按照之前的方法先加再消除影响。总共用了 $221$ 次。发现操作有冗余的地方，但是赛后想了很久都没想出来。</p>
<p>看了一个 Hint 之后直接顿悟。具体如下：</p>
<ol>
<li><p>先花 $32$ 次求出每个块内的前缀和（不管 $Y$ 数组），然后花 $32$ 次维护块之间的前缀和。即 $x_i = \sum \limits_{j=0}^i x_j$。</p>
</li>
<li><p>花费 $32$ 次做乘法 $y_i = x_i \times y_i$，非零位也就变成了无用的位置的前缀和。</p>
</li>
<li><p>与 $1$ 类似，把前缀和改为前缀 $\max$，即 $y_i = \max \limits_{j=0}^i \{y_j\}$。</p>
</li>
<li><p>最后花费 $32$ 次做减法消除影响，$x_i = x_i - y_i$。</p>
</li>
</ol>
<p>好吧确实是个脑瓜题，题目看了很久才懂，然后似乎只有一种解法（？），也就是只有脑电波对上了才可能做出来。然而我并没有脑瓜，也就只能在赛时疯狂 WA 了 qwq。</p>
<p>D 是 Zlw 想出来的，$04:57$ 才通过非常极限。想了很久与子序列方案数相关的做法，但是无一例外的会算重，难以维护左端点的合法个数。后来发现随着 $r$ 的增加，前面可行的 $l$ 在后面可行的 $r$ 中一直可行，具有单调性。所以可以直接维护 $dp_{i,j}$ 表示考虑 $[1,i]$，匹配到第 $j$ 段且恰好第 $j$ 段末尾在 $i$ 时，最大的可行的 $l$ 在哪。对于首尾无星号，需要维护前缀可行点数；对于单一前面（在后面就翻转）的星号，可以直接产生 $dp_{i,tot}$ 的贡献；对于前后都有星号，还需要再对 $dp$ 数组做一次后缀 $\max$，最终极限过题。但是赛后被 Scy 叉了，原因是没特判无星号的情况，而恰好数据没有无星号的情况。</p>
<hr>
<h3 id="9-10-月训练"><a href="#9-10-月训练" class="headerlink" title="9-10 月训练"></a>9-10 月训练</h3><p>懒得一一写了，就记录一下情况吧。</p>
<ul>
<li><p>2025.09.11 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1440">The 2nd Universal Cup. Stage 12: Hefei</a></p>
<p>  solved 4/12.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.09.25 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2509">The 2021 ICPC Southeastern European Regional Programming Contest (SEERC 2021)</a></p>
<p>  solved 8/14.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.02 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1099">The 2022 ICPC Asia Hong Kong Regional Contest</a></p>
<p>  solved 6/12.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.09 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1885">The 2024 ICPC Asia Hong Kong Regional Contest</a></p>
<p>  solved 5/13.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.13 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1187">The 2018 ICPC Asia Qingdao Regional Contest</a></p>
<p>  solved 7/13.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.17 <a target="_blank" rel="noopener" href="https://contest.ucup.ac/contest/1865">The 2024 ICPC Asia Shenyang Regional Contest</a></p>
<p>  solved 3/13.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.19 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1801">The 2024 CCPC Shandong Invitational Contest and Provincial Collegiate Programming Contest</a></p>
<p>  solved 8/13.</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.23 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2558">The 2025 ICPC Asia Xi’an Regional Contest</a></p>
<p>  solved 5/13.</p>
</li>
</ul>
<p><strong>【补题】</strong></p>
<ul>
<li><p>B</p>
<p>  题目大意：给定三种颜色的球排成一行，如果相邻两个球的颜色都不一样，则认为这一行是“漂亮的”。现在给定一个串，可以选择 $l$ 和 $r$，使得区间 $[l,r]$ 的所有球随便换位置，能否使得其变成“漂亮的”，求最短区间的 $l$ 和 $r$ 以及变成的“漂亮的”区间的解。</p>
<p>  看到 $n \leq 2 \cdot 10^6$，和 $l, r$，考虑能否固定一个 $l$ 然后二分 $r$。通过观察可知，假设要随意调整一个固定的区间 $[l, r]$，且 $L=l-1, R=r+1$（区间的左右边），假设最多的颜色数量为 $A$，其次为 $B$ 和 $C$，可以分成六种情况：</p>
<ol>
<li>$A = B = C$，肯定有解 </li>
<li>$A = B &gt; C$，如果 $L$ 和 $R$ 颜色相同且等于 $B$ 的颜色，交换 $AB$ 并做下面的步骤</li>
<li>$A &gt; B &gt; C$ 且 $A &gt; B+C+1$，无解</li>
<li>$A &gt; B &gt; C$ 且 $A = B+C+1$，$L$ 和 $R$ 的颜色要都与 $A$ 的不同才有解，否则无解</li>
<li>$A &gt; B &gt; C$ 且 $A = B+C$，只要 $L$ 和 $R$ 的颜色有一个与 $A$ 的不同即可，否则无解</li>
<li><p>$A &gt; B &gt; C$ 且 $A &lt; B+C$，肯定有解</p>
<p>这样就可以 $O(1)$ check 啦！然后得到最小答案区间 $[l, r]$ 之后还要找到专这样的区间，考虑枚举这个区间每一位可以放什么，比如枚举 $i$ 放 $A$ 后，再用上面的二分 check $[i+1, r]$ 是否合法即可。</p>
<p>这题比较有意思的是其单调性，我们枚举 $l$ 的范围是左边第一个到第一次出现颜色重复的位置，二分 $r$ 的范围是右边第一次出现重复的位置到右边最后一个，这样找出来的“美丽的”区间，其加上左右本身就是“美丽的”部分，还是一个“美丽的”区间，而其稍微缩小一点就会导致“不美丽”，想到这个单调性之后剩下的 check 和还原就比较顺了，分类讨论和模拟稍微有点小细节。</p>
</li>
</ol>
</li>
<li><p>K</p>
<p>  考虑标题”killing bits”，可以发现 $a_i \rightarrow b_i$ 的必要条件之一是 $b_i\subset a_i$。然后需要通过操作消除多余的位数。</p>
<p>  然后还需要考虑强制保留 $b_i$ 存在的位。因此与 $b_i$ 匹配的排列中的元素 $p_i$ 必须满足 $b_i\subset p_i$。</p>
<p>  优化一下第二个条件的建图跑匹配就过了。暂时不会证如何满足第一个条件。</p>
</li>
<li><p>M </p>
<p>  赛时是观察到 $1$ 的重要性，以及 $n$ 为奇数时全 $1$ 序列的不合法性。可是在一些其它情况中，没有想清楚到底哪些序列会因 $1$ 的双消而留下最后一个数，导致序列不合法。</p>
<p>  这个题的策略是尽可能的消成 $1$ 并放置到两侧，后来打了一个暴力表，看哪些情况是不合法的。一看表就发现规律了。</p>
<p>  当序列中的数，满足下列情况中的一条即为不合法序列：</p>
<ol>
<li>$n$ 为奇数且全为 $1$</li>
<li><p>序列中的数 $a_i$ 均满足 $a_i \ge n \vee (a_i = 1 \land 1 &lt; i &lt; n \land \nexists i \in [2,n - 1],  \text{s.t.} a_{i - 1} = a_i = 1)$</p>
<p>发现这个结论以后直接写 DP 记录不合法序列的个数即可，一发通过。</p>
</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><p>2025.10.26 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2563">The 2025 ICPC Asia Chengdu Regional Contest</a></p>
<p>  solved 6/13.</p>
</li>
</ul>
<p><strong>【补题】</strong></p>
<ul>
<li><p>D </p>
<p>  是个码量大的模拟记搜 DP，可能因为脑子不太清醒，反正赛时一个多小时没调过。赛后发现有个地方少敲了变量累加，以及忘记斯诺克最后要按顺序击打彩球了。</p>
</li>
<li><p>K </p>
<p>  CKM 似乎是一个难度的，由于赛时被 A,D 两题恶心了，所以没来得及做，有点点可惜，不过实操下来思路简单，代码难写。</p>
<p>  题意：给定 $n$ 个定长 $L$ 的线段，可以移动恰好一个线段到任意非负位置，求恰好有 $k$ 个线段的位置最多有多少个。</p>
<p>  考虑枚举移动的线段，分为两种形式：移动到与之前完全不交的区间、移动到与之前相交的区间。</p>
<p>  考虑每次移动只影响区间内部 $k-1,k,k+1$ 的位置，前缀和维护是可行的，尝试将一些变量分离。</p>
<p>  第一种情况可以发现区间长度为定值，所以可以只在左端点记录答案，ST 表查询区间 $\max$ 即可。</p>
<p>  第二种情况非常恶心，反正各推了一个有八项的式子，兜兜转转能够分别写成 $t^{(1)}_{l-1}-t^{(1)}_{l-x},t^{(2)}_{l+x}-t^{(2)}_{l-1}$ 的形式，$t$ 同样是用左端点存区间答案的形式，然后最终 ST 表查某个区间的 $\max$。需要注意 $x$ 的值域以及 $t^{(1)}$ 和 $t^{(2)}$ 会有些许不同。</p>
</li>
</ul>
<hr>
<ul>
<li><p>2025.11.05 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1093">The 2022 ICPC Asia Nanjing Regional Contest</a></p>
<p>  solved 7/13.</p>
</li>
</ul>
<hr>
<h3 id="出征-XCPC"><a href="#出征-XCPC" class="headerlink" title="出征 XCPC"></a>出征 XCPC</h3><h4 id="2025-11-01-11-02-ICPC-武汉站"><a href="#2025-11-01-11-02-ICPC-武汉站" class="headerlink" title="2025.11.01-11.02 ICPC 武汉站"></a>2025.11.01-11.02 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/article/34ku90zf">ICPC 武汉站</a></h4><h4 id="2025-11-08-11-09-ICPC-南京站"><a href="#2025-11-08-11-09-ICPC-南京站" class="headerlink" title="2025.11.08-11.09 ICPC 南京站"></a>2025.11.08-11.09 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/article/envofe70">ICPC 南京站</a></h4><h4 id="2025-11-29-11-30-CCPC-重庆站"><a href="#2025-11-29-11-30-CCPC-重庆站" class="headerlink" title="2025.11.29-11.30 CCPC 重庆站"></a>2025.11.29-11.30 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/article/akex9znz">CCPC 重庆站</a></h4><p>两个佬都有自己的博客😭</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://jrzlw.github.io/2025/11/10/2025XCPC/">Zlw 佬的游记</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://skyzhou.top/2025/10/25/ACM_XCPC/">Sky 佬的游记</a></p>
</li>
</ul>
<hr>
<h3 id="出线-EC-Final"><a href="#出线-EC-Final" class="headerlink" title="出线 EC Final (?)"></a>出线 EC Final (?)</h3><ul>
<li><p>2025.11.23 上海站的结束意味着大陆所有赛站的结束，看了俊杰的 EC Final 出线<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/1975983771565195445/answer/1975984790000902771">预测</a>，似乎拿到了正式的 228 支正式队伍名额的一个（看预测武汉和南京的都可以出线，非常意外，本来以为要靠学校的 WF 奖励名额了）。</p>
</li>
<li><p>2025.12.13 官网确定出线!好耶可以公费回家!</p>
</li>
</ul>
<hr>
<h3 id="备战-EC"><a href="#备战-EC" class="headerlink" title="备战 EC"></a>备战 EC</h3><ul>
<li><p>2025.12.20 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/2657">The 2025 ICPC Asia Taichung Regional Programming Contest</a></p>
<p>  台中站简单题似乎很多，前一个小时切了 5 题。不过有点可惜，最后一个题赛后 5 分钟通过。solved 8/14.</p>
</li>
</ul>
<hr>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/2797">The 2025 ICPC North America East Central Regional Contest (ECNA 2025)</a></p>
<p>  简单场。我们学校两只队伍去争夺奖励名额了，所以我们也跟着训练了一下。</p>
</li>
</ul>
<hr>
<ul>
<li><p>2026.01.07 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1041">The 2021 ICPC Asia East Continent Final Contest (EC-Final 2021)</a></p>
<p>  这场我是战犯，读错题给队友卡了一小时，然后理解错题假了一小时，最后计算几何还把判断点是否在直线一侧给写错了。（由于最后几秒 QOJ 卡了，没交上去，但是通过了，所以……） solved 6/14.</p>
</li>
<li><p>2026.01.09 <a target="_blank" rel="noopener" href="https://qoj.ac/contest/1197">The 2022 ICPC Asia East Continent Final Contest (EC-Final 2022)</a></p>
<p>  被交互和构造卡了，有简单题没发现（ solved 4/14.</p>
</li>
</ul>
<hr>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1967">The 2024 ICPC Europe Championship</a></p>
<p>  被签到 B 疯狂卡的一天，看到最大化最小值就先入为主的想要二分，检验合法性想了一万年。最后发现直接枚举分界点，然后求解答案即可。solved 5/11.</p>
</li>
</ul>
<hr>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1695">The 2024 ICPC North America Championship</a></p>
<p>  一时口胡一时爽 一直口胡一直爽。solved 7/13.</p>
</li>
</ul>
<hr>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1964">The 2025 ICPC Europe Championship</a></p>
<p>  构造场，红温了。solved 4/11.</p>
</li>
</ul>
<hr>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://qoj.ac/contest/1522">The 2023 ICPC Asia East Continent Final Contest (EC-Final 2023)</a></p>
<p>  铜牌前部位置，最后交互没出，但是第一次 0 dirt 率！ solved 5/13.</p>
</li>
</ul>
<hr>
</article>
<div class="article-footer">
    <section id="license">
      <div class="header"><span>License</span></div>
      <div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    


    <section id="share">
      <div class="header"><span>Share</span></div>
      <div class="body">
        <div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/" /></div>
        <div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot;)"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/b32ef3da1162a.svg" /></a><a class="social share-item email" href="mailto:?subject=2025-2026 XCPC - SUNCHAOYI&amp;body=https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/a1b00e20f425d.svg" /></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;Copied!&quot;)"><img  src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/8411ed322ced6.svg" /></a></div>
        
        <div class="qrcode" id="qrcode-wechat" style="opacity:0;height:0">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://sunchaoyi923.github.io/2025/05/02/XCPC2025-2026/"/>
        </div>
        
      </div>
    </section>
    </div>

<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">Newer</div><a href="/2025/05/07/CF2107E/">题解：CF2107E Ain and Apple Tree</a></div><div class="item" id="next"><div class="note">Older</div><a href="/2025/04/25/CF2106G/">题解：CF2106G Baudelaire</a></div></section></div>






<footer class="page-footer footnote"><hr><div class="text"><p>本站由 <a href="/">Chaoyi, Sun</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1">Stellar 1.33.1</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">On This Page</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">基本信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83%E6%83%85%E5%86%B5%E6%80%BB%E8%A7%88"><span class="toc-text">训练情况总览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95"><span class="toc-text">训练记录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9C%81%E8%B5%9B%E5%A4%87%E6%88%98"><span class="toc-text">省赛备战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-02-The-2023-Guangdong-Provincial-Collegiate-Programming-Contest"><span class="toc-text">2025.05.02 The 2023 Guangdong Provincial Collegiate Programming Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-15-The-2024-ICPC-Asia-Hangzhou-Regional-Contest"><span class="toc-text">2025.05.15 The 2024 ICPC Asia Hangzhou Regional Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-16"><span class="toc-text">2025.05.16</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-18"><span class="toc-text">2025.05.18</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-19-The-2025-ICPC-Wuhan-Invitational-Contest"><span class="toc-text">2025.05.19 The 2025 ICPC Wuhan Invitational Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-21-The-2025-ICPC-China-Zhejiang-Province-Programming-Contest"><span class="toc-text">2025.05.21 The 2025 ICPC China Zhejiang Province Programming Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-22-The-2024-ICPC-Asia-Shanghai-Regional-Contest"><span class="toc-text">2025.05.22 The 2024 ICPC Asia Shanghai Regional Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-23"><span class="toc-text">2025.05.23</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-24"><span class="toc-text">2025.05.24</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-25-%E7%AC%AC%E5%8D%81%E5%B1%8A%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B-%E6%B5%8E%E5%8D%97%E7%AB%99%EF%BC%88CCPC-2024-Jinan-Site%EF%BC%89"><span class="toc-text">2025.05.25 第十届中国大学生程序设计竞赛 济南站（CCPC 2024 Jinan Site）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-26-The-2024-ICPC-Southeastern-Europe-Regional-Contest-SEERC-2024"><span class="toc-text">2025.05.26 The 2024 ICPC Southeastern Europe Regional Contest (SEERC 2024)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-27-The-2024-ICPC-Central-Europe-Regional-Contest"><span class="toc-text">2025.05.27 The 2024 ICPC Central Europe Regional Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-29-The-2023-ICPC-Asia-Jinan-Regional-Contest"><span class="toc-text">2025.05.29 The 2023 ICPC Asia Jinan Regional Contest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-05-30-%E7%AC%AC%E4%B9%9D%E5%B1%8A%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B-%E6%A1%82%E6%9E%97%E7%AB%99%EF%BC%88CCPC-2023-Guilin-Site%EF%BC%89"><span class="toc-text">2025.05.30 第九届中国大学生程序设计竞赛 桂林站（CCPC 2023 Guilin Site）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2025-06-02-%E7%9C%81%E8%B5%9B-The-2025-Guangdong-Provincial-Collegiate-Programming-Contest"><span class="toc-text">2025.06.02 省赛 The 2025 Guangdong Provincial Collegiate Programming Contest</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9-%E6%9C%88%E8%AE%AD%E7%BB%83"><span class="toc-text">8-9 月训练</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2025%E7%89%9B%E5%AE%A2%E6%9A%91%E6%9C%9F%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95"><span class="toc-text">2025牛客暑期多校训练记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-08-30-CCPC-2023-Harbin-Site"><span class="toc-text">2025.08.30 CCPC 2023 Harbin Site</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-08-31-CCPC-2023-Qinhuangdao-Site"><span class="toc-text">2025.08.31 CCPC 2023 Qinhuangdao Site</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-09-05-The-15th-Shandong-CCPC-Provincial-Collegiate-Programming-Contest"><span class="toc-text">2025.09.05 The 15th Shandong CCPC Provincial Collegiate Programming Contest</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%A2%84%E9%80%89%E8%B5%9B"><span class="toc-text">网络预选赛</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-09-07-The-2025-ICPC-Asia-East-Continent-Online-Contest-I"><span class="toc-text">2025.09.07 The 2025 ICPC Asia East Continent Online Contest (I)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-09-14-The-2025-ICPC-Asia-East-Continent-Online-Contest-%E2%85%A1"><span class="toc-text">2025.09.14 The 2025 ICPC Asia East Continent Online Contest (Ⅱ)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-09-20-%E7%AC%AC%E5%8D%81%E4%B8%80%E5%B1%8A%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B%E7%BD%91%E7%BB%9C%E9%A2%84%E9%80%89%E8%B5%9B%EF%BC%88CCPC-Online-2025%EF%BC%89"><span class="toc-text">2025.09.20 第十一届中国大学生程序设计竞赛网络预选赛（CCPC Online 2025）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-10-%E6%9C%88%E8%AE%AD%E7%BB%83"><span class="toc-text">9-10 月训练</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E5%BE%81-XCPC"><span class="toc-text">出征 XCPC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-11-01-11-02-ICPC-%E6%AD%A6%E6%B1%89%E7%AB%99"><span class="toc-text">2025.11.01-11.02 ICPC 武汉站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-11-08-11-09-ICPC-%E5%8D%97%E4%BA%AC%E7%AB%99"><span class="toc-text">2025.11.08-11.09 ICPC 南京站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025-11-29-11-30-CCPC-%E9%87%8D%E5%BA%86%E7%AB%99"><span class="toc-text">2025.11.29-11.30 CCPC 重庆站</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E7%BA%BF-EC-Final"><span class="toc-text">出线 EC Final (?)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E6%88%98-EC"><span class="toc-text">备战 EC</span></a></li></ol></li></ol></div><div class="widget-footer"><a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/><path d="M7 3.338A9.95 9.95 0 0 1 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12c0-1.821.487-3.53 1.338-5"/></g></svg><span>Scroll to Top</span></a></div></widget>
</div></aside><div class='float-panel'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">


<script type="text/javascript">
  window.canonical = {"originalHost":null,"officialHosts":["localhost"],"encoded":""};
  const ctx = {
    date_suffix: {
      just: `Just`,
      min: `minutes ago`,
      hour: `hours ago`,
      day: `days ago`,
    },
    root : `/`,
    tag_plugins: {
      chat: Object.assign({"api":"https://siteinfo.listentothewind.cn/api/v1"}),
    }
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"skip_search":[],"codeblock":true,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
    loading: `https://api.iconify.design/eos-icons:three-dots-loading.svg?color=%231cd0fd`,
  };
  const deps = {
    jquery: `https://gcore.jsdelivr.net/npm/jquery@3.7/dist/jquery.min.js`,
    marked: `https://gcore.jsdelivr.net/npm/marked@13.0/lib/marked.umd.min.js`,
    lazyload: `/%5Bobject%20Object%5D`
  }
  

</script>

<script type="text/javascript">
  
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          utils.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }

  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')) {
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function () {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },

    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      const maxRetry = 3;
      let retryCount = 0;

      return new Promise((resolve, reject) => {
        const load = () => {
          utils.onLoading?.(el);

          let timedOut = false;
          const timeout = setTimeout(() => {
            timedOut = true;
            console.warn('[request] 超时:', url);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject('请求超时');
            } else {
              setTimeout(load, 1000);
            }
          }, 5000);

          fetch(url).then(resp => {
            if (timedOut) return;
            clearTimeout(timeout);

            if (!resp.ok) throw new Error('响应失败');
            return resp;
          }).then(data => {
            if (timedOut) return;
            utils.onLoadSuccess?.(el);
            callback(data);
            resolve(data);
          }).catch(err => {
            clearTimeout(timeout);
            console.warn('[request] 错误:', err);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject(err);
            } else {
              setTimeout(load, 1000);
            }
          });
        };

        load();
      });
    },
    requestWithoutLoading: (url, options = {}, maxRetry = 2, timeout = 5000) => {
      return new Promise((resolve, reject) => {
        let retryCount = 0;

        const tryRequest = () => {
          let timedOut = false;
          const timer = setTimeout(() => {
            timedOut = true;
            if (++retryCount > maxRetry) reject('timeout');
            else tryRequest();
          }, timeout);

          fetch(url, options)
            .then(resp => {
              clearTimeout(timer);
              if (!resp.ok) throw new Error('bad response');
              resolve(resp);
            })
            .catch(err => {
              clearTimeout(timer);
              if (++retryCount > maxRetry) reject(err);
              else setTimeout(tryRequest, 500);
            });
        };

        tryRequest();
      });
    },
    /********************** requestAnimationFrame ********************************/
    // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
    // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
    requestAnimationFrame: (fn) => {
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
      }
      window.requestAnimationFrame(fn)
    },
    dark: {},
  };

  // utils.dark.mode 当前模式 dark or light
  // utils.dark.toggle() 暗黑模式触发器
  // utils.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  utils.dark.method = {
    toggle: new RunItem(),
  };
  utils.dark = Object.assign(utils.dark, {
    push: utils.dark.method.toggle.push,
  });
</script>
<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
<script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>

<script async src="https://gcore.jsdelivr.net/npm/vanilla-lazyload@19.1/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
    callback_loaded: (el) => {
      el.classList.add('loaded');
      const wrapper = el.closest('.lazy-box');
      const icon = wrapper?.querySelector('.lazy-icon');
      if (icon) icon.remove();
    }
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });

  window.wrapLazyloadImages = (container) => {
    if (typeof container === 'string') {
      container = document.querySelector(container);
    }
    if (!container) return;
    
    const images = container.querySelectorAll('img');
    images.forEach((img) => {
      if (img.classList.contains('lazy')) return;

      const src = img.getAttribute('src');
      if (!src) return;

      const wrapper = document.createElement('div');
      wrapper.className = 'lazy-box';

      const newImg = img.cloneNode();
      newImg.removeAttribute('src');
      newImg.setAttribute('data-src', src);
      newImg.classList.add('lazy');

      const icon = document.createElement('div');
      icon.className = 'lazy-icon';
      if (def.loading) {
        icon.style.backgroundImage = `url("${def.loading}")`;
      }

      wrapper.appendChild(newImg);
      wrapper.appendChild(icon);

      img.replaceWith(wrapper);
    });

    // 通知 LazyLoad 更新
    if (window.lazyLoadInstance?.update) {
      window.lazyLoadInstance.update();
    }
  }
  
</script>

<!-- required -->
<script src="/js/main.js?v=1.33.1" defer></script>

<script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    // applyThemeToGiscus(theme)
  }

  // FIXME: 这会导致无法使用 preferred_color_scheme 以外的主题
  const applyThemeToGiscus = (theme) => {
    // theme = theme === 'auto' ? 'preferred_color_scheme' : theme
    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)
    utils.dark.mode = newTheme === 'auto' ? (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") : newTheme;
    utils.dark.method.toggle.start();

    const messages = {
      light: `Switched to Light Mode`,
      dark: `Switched to Dark Mode`,
      auto: `Switched to Auto Mode`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    } else {
      utils.dark.mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    utils.dark.method.toggle.start();
  })()
</script>


<!-- optional -->



<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"rating":{"js":"/js/services/rating.js","api":"https://star-vote.xaox.cc/api/rating"},"vote":{"js":"/js/services/vote.js","api":"https://star-vote.xaox.cc/api/vote"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"friends_and_posts":{"js":"/js/services/friends_and_posts.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"},"voice":{"js":"/js/plugins/voice.js"},"video":{"js":"/js/plugins/video.js"},"download-file":{"js":"/js/plugins/download-file.js"},"twikoo":{"js":"/js/services/twikoo_latest_comment.js"},"waline":{"js":"/js/services/waline_latest_comment.js"},"artalk":{"js":"/js/services/artalk_latest_comment.js"},"giscus":{"js":"/js/services/giscus_latest_comment.js"},"contributors":{"edit_this_page":{"_posts/":null,"wiki/stellar/":"https://github.com/xaoxuu/hexo-theme-stellar-docs/blob/main/"},"js":"/js/services/contributors.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else if (id == 'voice') {
        ctx.voiceAudios = document.querySelectorAll('.voice>audio');
        if (ctx.voiceAudios?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            createVoiceDom(ctx.voiceAudios);
          });
        }
      } else if (id == 'video') {
        ctx.videos = document.querySelectorAll('.video>video');
        if (ctx.videos?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            videoEvents(ctx.videos);
          });
        }
      } else if (id == 'download-file') {
        ctx.files = document.querySelectorAll('.file');
        if (ctx.files?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            downloadFileEvent(ctx.files);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }

    // chat iphone time
    let phoneTimes = document.querySelectorAll('.chat .status-bar .time');

    if (phoneTimes.length > 0) {
      NowTime();
      var date = new Date();
      var sec = date.getSeconds();
      var firstAdjustInterval = setInterval(firstAdjustTime, 1000 * (60 - sec));
    }

    function firstAdjustTime() {
      NowTime();
      clearInterval(firstAdjustInterval);
      setInterval(NowTime, 1000 * 60);
    }

    function NowTime() {
      for (let i = 0; i < phoneTimes.length; ++i) {
        var timeSpan = phoneTimes[i];
        var date = new Date();
        var hour = date.getHours();
        var min = date.getMinutes();
        timeSpan.innerHTML = check(hour) + ":" + check(min);
      }
    };

    function check(val) {
      if (val < 10) {
        return ("0" + val);
      }
      return (val);
    }

    // chat quote
    const chat_quote_obverser = new IntersectionObserver((entries, observer) => {
      entries.filter((entry) => { return entry.isIntersecting }).sort((a, b) => a.intersectionRect.y !== b.intersectionRect.y ? a.intersectionRect.y - b.intersectionRect.y : a.intersectionRect.x - b.intersectionRect.x).forEach((entry, index) => {
          observer.unobserve(entry.target);
          setTimeout(() => {
            entry.target.classList.add('quote-blink');
            setTimeout(() => {
              entry.target.classList.remove('quote-blink');
            }, 1000);
          }, Math.max(100, 16) * (index + 1));
        });
    });

    var chatQuotes = document.querySelectorAll(".chat .talk .quote");
    chatQuotes.forEach((quote) => {
      quote.addEventListener('click', function () {
        var chatCellDom = document.getElementById("quote-" + quote.getAttribute("quotedCellTag"));
        if (chatCellDom) {
          var chatDiv = chatCellDom.parentElement;
          var mid = chatDiv.clientHeight / 2;
          var offsetTop = chatCellDom.offsetTop;
          if (offsetTop > mid - chatCellDom.clientHeight / 2) {
            chatDiv.scrollTo({
              top: chatCellDom.offsetTop - mid + chatCellDom.clientHeight / 2,
              behavior: "smooth"
            });
          } else {
            chatDiv.scrollTo({
              top: 0,
              behavior: "smooth"
            });
          }
          chat_quote_obverser.observe(chatCellDom);
        }
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://gcore.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css`,
    js: `https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js`
  };
  var selector = '[data-fancybox]:not(.error), .with-fancybox .atk-content img:not([atk-emoticon])';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const memos = document.getElementsByClassName('ds-memos');
    if (memos != undefined && memos.length > 0) {
      needFancybox = true;
    }
    const fancybox = document.getElementsByClassName('with-fancybox');
    if (fancybox != undefined && fancybox.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>

<script id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `复制成功`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


<!-- inject -->

</div></body></html>
